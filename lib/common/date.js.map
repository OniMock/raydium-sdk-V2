{"version":3,"sources":["../../src/common/date.ts"],"sourceRoot":"../src","sourcesContent":["export type TimeStamp = string | number | Date;\r\n\r\nexport const isNumber = (val): boolean => typeof val === \"number\";\r\nexport type DateParam = string | number | Date | undefined;\r\n\r\nexport const getDate = (value?: DateParam): Date => (value ? new Date(value) : new Date());\r\nexport const getTime = (value?: DateParam): number => getDate(value).getTime();\r\n\r\n/** A must be milliseconds */\r\nexport function isDateBefore(timestampA: TimeStamp, timestampB: TimeStamp, options?: { unit?: \"ms\" | \"s\" }): boolean {\r\n  const realTimestampB = isNumber(timestampB)\r\n    ? (timestampB as number) * (options?.unit === \"s\" ? 1000 : 1)\r\n    : timestampB;\r\n  return new Date(timestampA).getTime() <= realTimestampB;\r\n}\r\n\r\n/** A must be milliseconds */\r\nexport function isDateAfter(timestampA: TimeStamp, timestampB: TimeStamp, options?: { unit?: \"ms\" | \"s\" }): boolean {\r\n  const realTimestampB = isNumber(timestampB)\r\n    ? (timestampB as number) * (options?.unit === \"s\" ? 1000 : 1)\r\n    : timestampB;\r\n  return new Date(timestampA).getTime() > realTimestampB;\r\n}\r\n\r\nexport function offsetDateTime(\r\n  baseDate: DateParam,\r\n  offset: {\r\n    days?: number;\r\n    hours?: number;\r\n    minutes?: number;\r\n    seconds?: number;\r\n    milliseconds?: number;\r\n  },\r\n): Date {\r\n  const timestamp = getTime(baseDate);\r\n  const offsetedTimestamp =\r\n    timestamp +\r\n    (offset.days ? offset.days * 24 * 60 * 60 * 1000 : 0) +\r\n    (offset.hours ? offset.hours * 60 * 60 * 1000 : 0) +\r\n    (offset.minutes ? offset.minutes * 60 * 1000 : 0) +\r\n    (offset.seconds ? offset.seconds * 1000 : 0) +\r\n    (offset.milliseconds ? offset.milliseconds : 0);\r\n  return getDate(offsetedTimestamp);\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,IAAM,WAAW,CAAC,QAAiB,OAAO,QAAQ;AAGlD,IAAM,UAAU,CAAC,UAA6B,QAAQ,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK;AACjF,IAAM,UAAU,CAAC,UAA8B,QAAQ,KAAK,EAAE,QAAQ;AAGtE,sBAAsB,YAAuB,YAAuB,SAA0C;AACnH,QAAM,iBAAiB,SAAS,UAAU,IACrC,aAAyB,UAAS,SAAS,MAAM,MAAO,KACzD;AACJ,SAAO,IAAI,KAAK,UAAU,EAAE,QAAQ,KAAK;AAC3C;AAGO,qBAAqB,YAAuB,YAAuB,SAA0C;AAClH,QAAM,iBAAiB,SAAS,UAAU,IACrC,aAAyB,UAAS,SAAS,MAAM,MAAO,KACzD;AACJ,SAAO,IAAI,KAAK,UAAU,EAAE,QAAQ,IAAI;AAC1C;AAEO,wBACL,UACA,QAOM;AACN,QAAM,YAAY,QAAQ,QAAQ;AAClC,QAAM,oBACJ,YACC,QAAO,OAAO,OAAO,OAAO,KAAK,KAAK,KAAK,MAAO,KAClD,QAAO,QAAQ,OAAO,QAAQ,KAAK,KAAK,MAAO,KAC/C,QAAO,UAAU,OAAO,UAAU,KAAK,MAAO,KAC9C,QAAO,UAAU,OAAO,UAAU,MAAO,KACzC,QAAO,eAAe,OAAO,eAAe;AAC/C,SAAO,QAAQ,iBAAiB;AAClC;","names":[]}