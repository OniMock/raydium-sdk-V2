import{PublicKey as _e}from"@solana/web3.js";import U,{isBN as k}from"bn.js";import{bits as E,BitStructure as A,blob as V,Blob as v,cstr as K,f32 as q,f32be as R,f64 as F,f64be as G,greedy as j,Layout as z,ns64 as M,ns64be as O,nu64 as H,nu64be as J,offset as Q,s16 as X,s16be as Y,s24 as Z,s24be as $,s32 as W,s32be as ee,s40 as te,s40be as ne,s48 as re,s48be as oe,s8 as se,seq as ue,struct as De,Structure as ae,u16 as ie,u16be as ye,u24 as ce,u24be as pe,u32 as Pe,u32be as de,u40 as xe,u40be as fe,u48 as be,u48be as me,u8 as le,UInt as ge,union as Le,Union as he,unionLayoutDiscriminator as Te,utf8 as Se}from"@solana/buffer-layout";var c=z,T=ae,S=he,Ie=A,f=ge,_=v,Ne=j,P=le,Ee=ie,Ae=ce,p=Pe,Ve=xe,ve=be,Ke=H,qe=ye,Re=pe,Fe=de,Ge=fe,je=me,ze=J,Me=se,Oe=X,He=Z,Je=W,Qe=te,Xe=re,Ye=M,Ze=Y,$e=$,We=ee,et=ne,tt=oe,nt=O,rt=q,ot=R,st=F,ut=G;var w=ue,B=Le,at=Te,d=V,it=K,yt=Se,b=E,m=Q;var a=class extends c{blob;signed;constructor(e,t,r){super(e,r),this.blob=d(e),this.signed=t}decode(e,t=0){let r=new U(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(this.span*8).clone():r}encode(e,t,r=0){return typeof e=="number"&&(e=new U(e)),this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),t,r)}},C=class extends c{_lower;_upper;constructor(e){super(8,e),this._lower=b(p(),!1),this._upper=b(p(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,t=0){let r=this._lower.decode(e,t),o=this._upper.decode(e,t+this._lower.span);return{...r,...o}}encode(e,t,r=0){return this._lower.encode(e,t,r)+this._upper.encode(e,t,r+this._lower.span)}};function xt(n){return new f(1,n)}function ft(n){return new f(4,n)}function we(n){return new a(8,!1,n)}function bt(n){return new a(16,!1,n)}function mt(n){return new a(1,!0,n)}function lt(n){return new a(8,!0,n)}function gt(n){return new a(16,!0,n)}var u=class extends c{layout;decoder;encoder;constructor(e,t,r,o){super(e.span,o),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}};function Lt(n){return new u(d(32),e=>new _e(e),e=>e.toBuffer(),n)}var l=class extends c{layout;discriminator;constructor(e,t){super(-1,t),this.layout=e,this.discriminator=P()}encode(e,t,r=0){return e==null?this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+1)+1)}decode(e,t=0){let r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e,t=0){let r=this.discriminator.decode(e,t);if(r===0)return 1;if(r===1)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}};function ht(n,e){return new l(n,e)}function Tt(n){return new u(P(),Be,Ue,n)}function Be(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function Ue(n){return n?1:0}function St(n,e){let t=p("length"),r=x([t,D(n,m(t,-t.span),"values")]);return new u(r,({values:o})=>o,o=>({values:o}),e)}function _t(n,e,t){let r=x([we("tag"),e.replicate("data")]);function o({tag:s,data:i}){if(!s.eq(n))throw new Error("Invalid tag, expected: "+n.toString("hex")+", got: "+s.toString("hex"));return i}return new u(r,o,s=>({tag:n,data:s}),t)}function ke(n){let e=p("length"),t=x([e,d(m(e,-e.span),"data")]);return new u(t,({data:r})=>r,r=>({data:r}),n)}function wt(n){return new u(ke(),e=>e.toString("utf-8"),e=>Buffer.from(e,"utf-8"),n)}function Bt(n,e){let t=B(P(),e);return n.forEach((r,o)=>t.addVariant(o,r,r.property)),t}function Ut(n,e,t){let r=x([D(n,e,"values")]);return new u(r,({values:o})=>o,o=>({values:o}),t)}var g=class extends T{decode(e,t){return super.decode(e,t)}};function x(n,e,t){return new g(n,e,t)}var L=class extends S{encodeInstruction(e){let t=Math.max(...Object.values(this.registry).map(o=>o.span)),r=Buffer.alloc(t);return r.slice(0,this.encode(e,r))}decodeInstruction(e){return this.decode(e)}};function kt(n,e,t){return new L(n,e,t)}var h=class extends _{decode(e,t){let r=super.decode(e,t);if(!r.every(o=>o===0))throw new Error("nonzero padding bytes");return r}};function Ct(n){return new h(n)}function D(n,e,t){let r,o=typeof e=="number"?e:k(e)?e.toNumber():new Proxy(e,{get(s,i){if(!r){let y=Reflect.get(s,"count");r=k(y)?y.toNumber():y,Reflect.set(s,"count",r)}return Reflect.get(s,i)},set(s,i,y){return i==="count"&&(r=y),Reflect.set(s,i,y)}});return w(n,o,t)}export{a as BNLayout,Ie as BitStructure,_ as Blob,c as Layout,l as OptionLayout,g as Structure,f as UInt,L as Union,C as WideBits,u as WrappedLayout,Ut as array,b as bits,d as blob,Tt as bool,it as cstr,Be as decodeBool,Ue as encodeBool,rt as f32,ot as f32be,st as f64,ut as f64be,Ne as greedy,gt as i128,lt as i64,mt as i8,Ye as ns64,nt as ns64be,Ke as nu64,ze as nu64be,m as offset,ht as option,Lt as publicKey,Bt as rustEnum,Oe as s16,Ze as s16be,He as s24,$e as s24be,Je as s32,We as s32be,Qe as s40,et as s40be,Xe as s48,tt as s48be,Me as s8,D as seq,wt as str,x as struct,_t as tagged,bt as u128,Ee as u16,qe as u16be,Ae as u24,Re as u24be,ft as u32,Fe as u32be,Ve as u40,Ge as u40be,ve as u48,je as u48be,we as u64,xt as u8,kt as union,at as unionLayoutDiscriminator,yt as utf8,St as vec,ke as vecU8,Ct as zeros};
//# sourceMappingURL=index.mjs.map