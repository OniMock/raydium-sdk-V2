var vn=Object.defineProperty;var Dn=(t,e,n)=>e in t?vn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fe=(t,e,n)=>(Dn(t,typeof e!="symbol"?e+"":e,n),n);import{PublicKey as Ie}from"@solana/web3.js";import Ke from"bn.js";import{TOKEN_PROGRAM_ID as En}from"@solana/spl-token";import oe from"bn.js";var he=9e15,ce=1e9,lt="0123456789abcdef",Ve="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ue="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",pt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-he,maxE:he,crypto:!1},qt,re,L=!0,We="[DecimalError] ",ue=We+"Invalid argument: ",Wt=We+"Precision limit exceeded",Gt=We+"crypto unavailable",Ht="[object Decimal]",H=Math.floor,W=Math.pow,In=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Kn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_n=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,jt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ee=1e7,S=7,Fn=9007199254740991,On=Ve.length-1,ft=Ue.length-1,d={toStringTag:Ht};d.absoluteValue=d.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),P(t)};d.ceil=function(){return P(new this.constructor(this),this.e+1,2)};d.clampedTo=d.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(ue+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)};d.comparedTo=d.cmp=function(t){var e,n,r,i,o=this,s=o.d,a=(t=new o.constructor(t)).d,c=o.s,u=t.s;if(!s||!a)return!c||!u?NaN:c!==u?c:s===a?0:!s^c<0?1:-1;if(!s[0]||!a[0])return s[0]?c:a[0]?-u:0;if(c!==u)return c;if(o.e!==t.e)return o.e>t.e^c<0?1:-1;for(r=s.length,i=a.length,e=0,n=r<i?r:i;e<n;++e)if(s[e]!==a[e])return s[e]>a[e]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1};d.cosine=d.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+S,r.rounding=1,n=Vn(r,Xt(r,n)),r.precision=t,r.rounding=e,P(re==2||re==3?n.neg():n,t,e,!0)):new r(1):new r(NaN)};d.cubeRoot=d.cbrt=function(){var t,e,n,r,i,o,s,a,c,u,p=this,l=p.constructor;if(!p.isFinite()||p.isZero())return new l(p);for(L=!1,o=p.s*W(p.s*p,1/3),!o||Math.abs(o)==1/0?(n=G(p.d),t=p.e,(o=(t-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=W(n,1/3),t=H((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?n="5e"+t:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new l(n),r.s=p.s):r=new l(o.toString()),s=(t=l.precision)+3;;)if(a=r,c=a.times(a).times(a),u=c.plus(p),r=_(u.plus(p).times(a),u.plus(c),s+2,1),G(a.d).slice(0,s)===(n=G(r.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!i&&n=="4999"){if(!i&&(P(a,t+1,0),a.times(a).times(a).eq(p))){r=a;break}s+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(P(r,t+1,1),e=!r.times(r).times(r).eq(p));break}return L=!0,P(r,t,l.rounding,e)};d.decimalPlaces=d.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-H(this.e/S))*S,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};d.dividedBy=d.div=function(t){return _(this,new this.constructor(t))};d.dividedToIntegerBy=d.divToInt=function(t){var e=this,n=e.constructor;return P(_(e,new n(t),0,1,1),n.precision,n.rounding)};d.equals=d.eq=function(t){return this.cmp(t)===0};d.floor=function(){return P(new this.constructor(this),this.e+1,3)};d.greaterThan=d.gt=function(t){return this.cmp(t)>0};d.greaterThanOrEqualTo=d.gte=function(t){var e=this.cmp(t);return e==1||e===0};d.hyperbolicCosine=d.cosh=function(){var t,e,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/He(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=be(s,1,o.times(e),new s(1),!0);for(var c,u=t,p=new s(8);u--;)c=o.times(o),o=a.minus(c.times(p.minus(c.times(p))));return P(o,s.precision=n,s.rounding=r,!0)};d.hyperbolicSine=d.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=be(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:t|0,i=i.times(1/He(5,t)),i=be(o,2,i,i,!0);for(var s,a=new o(5),c=new o(16),u=new o(20);t--;)s=i.times(i),i=i.times(a.plus(s.times(c.times(s).plus(u))))}return o.precision=e,o.rounding=n,P(i,e,n,!0)};d.hyperbolicTangent=d.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,_(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)};d.inverseCosine=d.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return r!==-1?r===0?e.isNeg()?$(n,i,o):new n(0):new n(NaN):e.isZero()?$(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=$(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))};d.inverseHyperbolicCosine=d.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,L=!1,n=n.times(n).minus(1).sqrt().plus(n),L=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)};d.inverseHyperbolicSine=d.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,L=!1,n=n.times(n).plus(1).sqrt().plus(n),L=!0,r.precision=t,r.rounding=e,n.ln())};d.inverseHyperbolicTangent=d.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?P(new o(i),t,e,!0):(o.precision=n=r-i.e,i=_(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)};d.inverseSine=d.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,e!==-1?e===0?(t=$(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))};d.inverseTangent=d.atan=function(){var t,e,n,r,i,o,s,a,c,u=this,p=u.constructor,l=p.precision,f=p.rounding;if(u.isFinite()){if(u.isZero())return new p(u);if(u.abs().eq(1)&&l+4<=ft)return s=$(p,l+4,f).times(.25),s.s=u.s,s}else{if(!u.s)return new p(NaN);if(l+4<=ft)return s=$(p,l+4,f).times(.5),s.s=u.s,s}for(p.precision=a=l+10,p.rounding=1,n=Math.min(28,a/S+2|0),t=n;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(L=!1,e=Math.ceil(a/S),r=1,c=u.times(u),s=new p(u),i=u;t!==-1;)if(i=i.times(c),o=s.minus(i.div(r+=2)),i=i.times(c),s=o.plus(i.div(r+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===o.d[t]&&t--;);return n&&(s=s.times(2<<n-1)),L=!0,P(s,p.precision=l,p.rounding=f,!0)};d.isFinite=function(){return!!this.d};d.isInteger=d.isInt=function(){return!!this.d&&H(this.e/S)>this.d.length-2};d.isNaN=function(){return!this.s};d.isNegative=d.isNeg=function(){return this.s<0};d.isPositive=d.isPos=function(){return this.s>0};d.isZero=function(){return!!this.d&&this.d[0]===0};d.lessThan=d.lt=function(t){return this.cmp(t)<0};d.lessThanOrEqualTo=d.lte=function(t){return this.cmp(t)<1};d.logarithm=d.log=function(t){var e,n,r,i,o,s,a,c,u=this,p=u.constructor,l=p.precision,f=p.rounding,m=5;if(t==null)t=new p(10),e=!0;else{if(t=new p(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new p(NaN);e=t.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new p(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=i!==1}if(L=!1,a=l+m,s=ae(u,a),r=e?qe(p,a+10):ae(t,a),c=_(s,r,a,1),Se(c.d,i=l,f))do if(a+=10,s=ae(u,a),r=e?qe(p,a+10):ae(t,a),c=_(s,r,a,1),!o){+G(c.d).slice(i+1,i+15)+1==1e14&&(c=P(c,l+1,0));break}while(Se(c.d,i+=10,f));return L=!0,P(c,l,f)};d.minus=d.sub=function(t){var e,n,r,i,o,s,a,c,u,p,l,f,m=this,h=m.constructor;if(t=new h(t),!m.d||!t.d)return!m.s||!t.s?t=new h(NaN):m.d?t.s=-t.s:t=new h(t.d||m.s!==t.s?m:NaN),t;if(m.s!=t.s)return t.s=-t.s,m.plus(t);if(u=m.d,f=t.d,a=h.precision,c=h.rounding,!u[0]||!f[0]){if(f[0])t.s=-t.s;else if(u[0])t=new h(m);else return new h(c===3?-0:0);return L?P(t,a,c):t}if(n=H(t.e/S),p=H(m.e/S),u=u.slice(),o=p-n,o){for(l=o<0,l?(e=u,o=-o,s=f.length):(e=f,n=p,s=u.length),r=Math.max(Math.ceil(a/S),s)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=u.length,s=f.length,l=r<s,l&&(s=r),r=0;r<s;r++)if(u[r]!=f[r]){l=u[r]<f[r];break}o=0}for(l&&(e=u,u=f,f=e,t.s=-t.s),s=u.length,r=f.length-s;r>0;--r)u[s++]=0;for(r=f.length;r>o;){if(u[--r]<f[r]){for(i=r;i&&u[--i]===0;)u[i]=ee-1;--u[i],u[r]+=ee}u[r]-=f[r]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=Ge(u,n),L?P(t,a,c):t):new h(c===3?-0:0)};d.modulo=d.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?P(new r(n),r.precision,r.rounding):(L=!1,r.modulo==9?(e=_(n,t.abs(),0,3,1),e.s*=t.s):e=_(n,t,0,r.modulo,1),e=e.times(t),L=!0,n.minus(e))};d.naturalExponential=d.exp=function(){return dt(this)};d.naturalLogarithm=d.ln=function(){return ae(this)};d.negated=d.neg=function(){var t=new this.constructor(this);return t.s=-t.s,P(t)};d.plus=d.add=function(t){var e,n,r,i,o,s,a,c,u,p,l=this,f=l.constructor;if(t=new f(t),!l.d||!t.d)return!l.s||!t.s?t=new f(NaN):l.d||(t=new f(t.d||l.s===t.s?l:NaN)),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(u=l.d,p=t.d,a=f.precision,c=f.rounding,!u[0]||!p[0])return p[0]||(t=new f(l)),L?P(t,a,c):t;if(o=H(l.e/S),r=H(t.e/S),u=u.slice(),i=o-r,i){for(i<0?(n=u,i=-i,s=p.length):(n=p,r=o,s=u.length),o=Math.ceil(a/S),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=u.length,i=p.length,s-i<0&&(i=s,n=p,p=u,u=n),e=0;i;)e=(u[--i]=u[i]+p[i]+e)/ee|0,u[i]%=ee;for(e&&(u.unshift(e),++r),s=u.length;u[--s]==0;)u.pop();return t.d=u,t.e=Ge(u,r),L?P(t,a,c):t};d.precision=d.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ue+t);return n.d?(e=Qt(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};d.round=function(){var t=this,e=t.constructor;return P(new e(t),t.e+1,e.rounding)};d.sine=d.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+S,r.rounding=1,n=qn(r,Xt(r,n)),r.precision=t,r.rounding=e,P(re>2?n.neg():n,t,e,!0)):new r(NaN)};d.squareRoot=d.sqrt=function(){var t,e,n,r,i,o,s=this,a=s.d,c=s.e,u=s.s,p=s.constructor;if(u!==1||!a||!a[0])return new p(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);for(L=!1,u=Math.sqrt(+s),u==0||u==1/0?(e=G(a),(e.length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=H((c+1)/2)-(c<0||c%2),u==1/0?e="5e"+c:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),r=new p(e)):r=new p(u.toString()),n=(c=p.precision)+3;;)if(o=r,r=o.plus(_(s,o,n+2,1)).times(.5),G(o.d).slice(0,n)===(e=G(r.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!i&&e=="4999"){if(!i&&(P(o,c+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(P(r,c+1,1),t=!r.times(r).eq(s));break}return L=!0,P(r,c,p.rounding,t)};d.tangent=d.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=_(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,P(re==2||re==4?n.neg():n,t,e,!0)):new r(NaN)};d.times=d.mul=function(t){var e,n,r,i,o,s,a,c,u,p=this,l=p.constructor,f=p.d,m=(t=new l(t)).d;if(t.s*=p.s,!f||!f[0]||!m||!m[0])return new l(!t.s||f&&!f[0]&&!m||m&&!m[0]&&!f?NaN:!f||!m?t.s/0:t.s*0);for(n=H(p.e/S)+H(t.e/S),c=f.length,u=m.length,c<u&&(o=f,f=m,m=o,s=c,c=u,u=s),o=[],s=c+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)a=o[i]+m[r]*f[i-r-1]+e,o[i--]=a%ee|0,e=a/ee|0;o[i]=(o[i]+e)%ee|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=Ge(o,n),L?P(t,l.precision,l.rounding):t};d.toBinary=function(t,e){return gt(this,2,t,e)};d.toDecimalPlaces=d.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(J(t,0,ce),e===void 0?e=r.rounding:J(e,0,8),P(n,t+n.e+1,e))};d.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ne(r,!0):(J(t,0,ce),e===void 0?e=i.rounding:J(e,0,8),r=P(new i(r),t+1,e),n=ne(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n};d.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?n=ne(i):(J(t,0,ce),e===void 0?e=o.rounding:J(e,0,8),r=P(new o(i),t+i.e+1,e),n=ne(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};d.toFraction=function(t){var e,n,r,i,o,s,a,c,u,p,l,f,m=this,h=m.d,y=m.constructor;if(!h)return new y(m);if(u=n=new y(1),r=c=new y(0),e=new y(r),o=e.e=Qt(h)-m.e-1,s=o%S,e.d[0]=W(10,s<0?S+s:s),t==null)t=o>0?e:u;else{if(a=new y(t),!a.isInt()||a.lt(u))throw Error(ue+a);t=a.gt(e)?o>0?e:u:a}for(L=!1,a=new y(G(h)),p=y.precision,y.precision=o=h.length*S*2;l=_(a,e,0,1,1),i=n.plus(l.times(r)),i.cmp(t)!=1;)n=r,r=i,i=u,u=c.plus(l.times(i)),c=i,i=e,e=a.minus(l.times(i)),a=i;return i=_(t.minus(n),r,0,1,1),c=c.plus(i.times(u)),n=n.plus(i.times(r)),c.s=u.s=m.s,f=_(u,r,o,1).minus(m).abs().cmp(_(c,n,o,1).minus(m).abs())<1?[u,r]:[c,n],y.precision=p,L=!0,f};d.toHexadecimal=d.toHex=function(t,e){return gt(this,16,t,e)};d.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),t==null){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),e===void 0?e=r.rounding:J(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(L=!1,n=_(n,t,0,e,1).times(t),L=!0,P(n)):(t.s=n.s,n=t),n};d.toNumber=function(){return+this};d.toOctal=function(t,e){return gt(this,8,t,e)};d.toPower=d.pow=function(t){var e,n,r,i,o,s,a=this,c=a.constructor,u=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(W(+a,u));if(a=new c(a),a.eq(1))return a;if(r=c.precision,o=c.rounding,t.eq(1))return P(a,r,o);if(e=H(t.e/S),e>=t.d.length-1&&(n=u<0?-u:u)<=Fn)return i=zt(c,a,n,r),t.s<0?new c(1).div(i):P(i,r,o);if(s=a.s,s<0){if(e<t.d.length-1)return new c(NaN);if((t.d[e]&1)==0&&(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return n=W(+a,u),e=n==0||!isFinite(n)?H(u*(Math.log("0."+G(a.d))/Math.LN10+a.e+1)):new c(n+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?s/0:0):(L=!1,c.rounding=a.s=1,n=Math.min(12,(e+"").length),i=dt(t.times(ae(a,r+n)),r),i.d&&(i=P(i,r+5,1),Se(i.d,r,o)&&(e=r+10,i=P(dt(t.times(ae(a,e+n)),e),e+5,1),+G(i.d).slice(r+1,r+15)+1==1e14&&(i=P(i,r+1,0)))),i.s=s,L=!0,c.rounding=o,P(i,r,o))};d.toPrecision=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ne(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(J(t,1,ce),e===void 0?e=i.rounding:J(e,0,8),r=P(new i(r),t,e),n=ne(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n};d.toSignificantDigits=d.toSD=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(J(t,1,ce),e===void 0?e=r.rounding:J(e,0,8)),P(new r(n),t,e)};d.toString=function(){var t=this,e=t.constructor,n=ne(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};d.truncated=d.trunc=function(){return P(new this.constructor(this),this.e+1,1)};d.valueOf=d.toJSON=function(){var t=this,e=t.constructor,n=ne(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function G(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=S-r.length,n&&(o+=se(n)),o+=r;s=t[e],r=s+"",n=S-r.length,n&&(o+=se(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function J(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ue+t)}function Se(t,e,n,r){var i,o,s,a;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=S,i=0):(i=Math.ceil((e+1)/S),e%=S),o=W(10,S-e),a=t[i]%o|0,r==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),s=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(t[i+1]/o/100|0)==W(10,e-2)-1||(a==o/2||a==0)&&(t[i+1]/o/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),s=(r||n<4)&&a==9999||!r&&n>3&&a==4999):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(t[i+1]/o/1e3|0)==W(10,e-3)-1,s}function Oe(t,e,n){for(var r,i=[0],o,s=0,a=t.length;s<a;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=lt.indexOf(t.charAt(s++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function Vn(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/He(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=be(t,1,e.times(i),new t(1));for(var o=n;o--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=n,e}var _=function(){function t(r,i,o){var s,a=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+a,r[c]=s%o|0,a=s/o|0;return a&&r.unshift(a),r}function e(r,i,o,s){var a,c;if(o!=s)c=o>s?1:-1;else for(a=c=0;a<o;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,o,s){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*s+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s,a,c){var u,p,l,f,m,h,y,g,T,w,b,x,A,B,C,D,v,I,E,O,U=r.constructor,Z=r.s==i.s?1:-1,K=r.d,R=i.d;if(!K||!K[0]||!R||!R[0])return new U(!r.s||!i.s||(K?R&&K[0]==R[0]:!R)?NaN:K&&K[0]==0||!R?Z*0:Z/0);for(c?(m=1,p=r.e-i.e):(c=ee,m=S,p=H(r.e/m)-H(i.e/m)),E=R.length,v=K.length,T=new U(Z),w=T.d=[],l=0;R[l]==(K[l]||0);l++);if(R[l]>(K[l]||0)&&p--,o==null?(B=o=U.precision,s=U.rounding):a?B=o+(r.e-i.e)+1:B=o,B<0)w.push(1),h=!0;else{if(B=B/m+2|0,l=0,E==1){for(f=0,R=R[0],B++;(l<v||f)&&B--;l++)C=f*c+(K[l]||0),w[l]=C/R|0,f=C%R|0;h=f||l<v}else{for(f=c/(R[0]+1)|0,f>1&&(R=t(R,f,c),K=t(K,f,c),E=R.length,v=K.length),D=E,b=K.slice(0,E),x=b.length;x<E;)b[x++]=0;O=R.slice(),O.unshift(0),I=R[0],R[1]>=c/2&&++I;do f=0,u=e(R,b,E,x),u<0?(A=b[0],E!=x&&(A=A*c+(b[1]||0)),f=A/I|0,f>1?(f>=c&&(f=c-1),y=t(R,f,c),g=y.length,x=b.length,u=e(y,b,g,x),u==1&&(f--,n(y,E<g?O:R,g,c))):(f==0&&(u=f=1),y=R.slice()),g=y.length,g<x&&y.unshift(0),n(b,y,x,c),u==-1&&(x=b.length,u=e(R,b,E,x),u<1&&(f++,n(b,E<x?O:R,x,c))),x=b.length):u===0&&(f++,b=[0]),w[l++]=f,u&&b[0]?b[x++]=K[D]||0:(b=[K[D]],x=1);while((D++<v||b[0]!==void 0)&&B--);h=b[0]!==void 0}w[0]||w.shift()}if(m==1)T.e=p,qt=h;else{for(l=1,f=w[0];f>=10;f/=10)l++;T.e=l+p*m-1,P(T,a?o+T.e+1:o,s,h)}return T}}();function P(t,e,n,r){var i,o,s,a,c,u,p,l,f,m=t.constructor;e:if(e!=null){if(l=t.d,!l)return t;for(i=1,a=l[0];a>=10;a/=10)i++;if(o=e-i,o<0)o+=S,s=e,p=l[f=0],c=p/W(10,i-s-1)%10|0;else if(f=Math.ceil((o+1)/S),a=l.length,f>=a)if(r){for(;a++<=f;)l.push(0);p=c=0,i=1,o%=S,s=o-S+1}else break e;else{for(p=a=l[f],i=1;a>=10;a/=10)i++;o%=S,s=o-S+i,c=s<0?0:p/W(10,i-s-1)%10|0}if(r=r||e<0||l[f+1]!==void 0||(s<0?p:p%W(10,i-s-1)),u=n<4?(c||r)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(o>0?s>0?p/W(10,i-s):0:l[f-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,u?(e-=t.e+1,l[0]=W(10,(S-e%S)%S),t.e=-e||0):l[0]=t.e=0,t;if(o==0?(l.length=f,a=1,f--):(l.length=f+1,a=W(10,S-o),l[f]=s>0?(p/W(10,i-s)%W(10,s)|0)*a:0),u)for(;;)if(f==0){for(o=1,s=l[0];s>=10;s/=10)o++;for(s=l[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(t.e++,l[0]==ee&&(l[0]=1));break}else{if(l[f]+=a,l[f]!=ee)break;l[f--]=0,a=1}for(o=l.length;l[--o]===0;)l.pop()}return L&&(t.e>m.maxE?(t.d=null,t.e=NaN):t.e<m.minE&&(t.e=0,t.d=[0])),t}function ne(t,e,n){if(!t.isFinite())return Jt(t);var r,i=t.e,o=G(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+se(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+se(-i-1)+o,n&&(r=n-s)>0&&(o+=se(r))):i>=s?(o+=se(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+se(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=se(r))),o}function Ge(t,e){var n=t[0];for(e*=S;n>=10;n/=10)e++;return e}function qe(t,e,n){if(e>On)throw L=!0,n&&(t.precision=n),Error(Wt);return P(new t(Ve),e,1,!0)}function $(t,e,n){if(e>ft)throw Error(Wt);return P(new t(Ue),e,n,!0)}function Qt(t){var e=t.length-1,n=e*S+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function se(t){for(var e="";t--;)e+="0";return e}function zt(t,e,n,r){var i,o=new t(1),s=Math.ceil(r/S+4);for(L=!1;;){if(n%2&&(o=o.times(e),Vt(o.d,s)&&(i=!0)),n=H(n/2),n===0){n=o.d.length-1,i&&o.d[n]===0&&++o.d[n];break}e=e.times(e),Vt(e.d,s)}return L=!0,o}function Ot(t){return t.d[t.d.length-1]&1}function Zt(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;)if(r=new t(e[o]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function dt(t,e){var n,r,i,o,s,a,c,u=0,p=0,l=0,f=t.constructor,m=f.rounding,h=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(L=!1,c=h):c=e,a=new f(.03125);t.e>-2;)t=t.times(a),l+=5;for(r=Math.log(W(2,l))/Math.LN10*2+5|0,c+=r,n=o=s=new f(1),f.precision=c;;){if(o=P(o.times(t),c,1),n=n.times(++p),a=s.plus(_(o,n,c,1)),G(a.d).slice(0,c)===G(s.d).slice(0,c)){for(i=l;i--;)s=P(s.times(s),c,1);if(e==null)if(u<3&&Se(s.d,c-r,m,u))f.precision=c+=10,n=o=a=new f(1),p=0,u++;else return P(s,f.precision=h,m,L=!0);else return f.precision=h,s}s=a}}function ae(t,e){var n,r,i,o,s,a,c,u,p,l,f,m=1,h=10,y=t,g=y.d,T=y.constructor,w=T.rounding,b=T.precision;if(y.s<0||!g||!g[0]||!y.e&&g[0]==1&&g.length==1)return new T(g&&!g[0]?-1/0:y.s!=1?NaN:g?0:y);if(e==null?(L=!1,p=b):p=e,T.precision=p+=h,n=G(g),r=n.charAt(0),Math.abs(o=y.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=G(y.d),r=n.charAt(0),m++;o=y.e,r>1?(y=new T("0."+n),o++):y=new T(r+"."+n.slice(1))}else return u=qe(T,p+2,b).times(o+""),y=ae(new T(r+"."+n.slice(1)),p-h).plus(u),T.precision=b,e==null?P(y,b,w,L=!0):y;for(l=y,c=s=y=_(y.minus(1),y.plus(1),p,1),f=P(y.times(y),p,1),i=3;;){if(s=P(s.times(f),p,1),u=c.plus(_(s,new T(i),p,1)),G(u.d).slice(0,p)===G(c.d).slice(0,p))if(c=c.times(2),o!==0&&(c=c.plus(qe(T,p+2,b).times(o+""))),c=_(c,new T(m),p,1),e==null)if(Se(c.d,p-h,w,a))T.precision=p+=h,u=s=y=_(l.minus(1),l.plus(1),p,1),f=P(y.times(y),p,1),i=a=1;else return P(c,T.precision=b,w,L=!0);else return T.precision=b,c;c=u,i+=2}}function Jt(t){return String(t.s*t.s/0)}function mt(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%S,n<0&&(r+=S),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=S;r<i;)t.d.push(+e.slice(r,r+=S));e=e.slice(r),r=S-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),L&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Un(t,e){var n,r,i,o,s,a,c,u,p;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),jt.test(e))return mt(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Kn.test(e))n=16,e=e.toLowerCase();else if(In.test(e))n=2;else if(_n.test(e))n=8;else throw Error(ue+e);for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),s=o>=0,r=t.constructor,s&&(e=e.replace(".",""),a=e.length,o=a-o,i=zt(r,new r(n),o,o*2)),u=Oe(e,n,ee),p=u.length-1,o=p;u[o]===0;--o)u.pop();return o<0?new r(t.s*0):(t.e=Ge(u,p),t.d=u,L=!1,s&&(t=_(t,i,a*4)),c&&(t=t.times(Math.abs(c)<54?W(2,c):je.pow(2,c))),L=!0,t)}function qn(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:be(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:n|0,e=e.times(1/He(5,n)),e=be(t,2,e,e);for(var i,o=new t(5),s=new t(16),a=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(s.times(i).minus(a))));return e}function be(t,e,n,r,i){var o,s,a,c,u=1,p=t.precision,l=Math.ceil(p/S);for(L=!1,c=n.times(n),a=new t(r);;){if(s=_(a.times(c),new t(e++*e++),p,1),a=i?r.plus(s):r.minus(s),r=_(s.times(c),new t(e++*e++),p,1),s=a.plus(r),s.d[l]!==void 0){for(o=l;s.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=r,r=s,s=o,u++}return L=!0,s.d.length=l+1,s}function He(t,e){for(var n=t;--e;)n*=t;return n}function Xt(t,e){var n,r=e.s<0,i=$(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return re=r?4:1,e;if(n=e.divToInt(i),n.isZero())re=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return re=Ot(n)?r?2:3:r?4:1,e;re=Ot(n)?r?1:4:r?3:2}return e.minus(i).abs()}function gt(t,e,n,r){var i,o,s,a,c,u,p,l,f,m=t.constructor,h=n!==void 0;if(h?(J(n,1,ce),r===void 0?r=m.rounding:J(r,0,8)):(n=m.precision,r=m.rounding),!t.isFinite())p=Jt(t);else{for(p=ne(t),s=p.indexOf("."),h?(i=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):i=e,s>=0&&(p=p.replace(".",""),f=new m(1),f.e=p.length-s,f.d=Oe(ne(f),10,i),f.e=f.d.length),l=Oe(p,10,i),o=c=l.length;l[--c]==0;)l.pop();if(!l[0])p=h?"0p+0":"0";else{if(s<0?o--:(t=new m(t),t.d=l,t.e=o,t=_(t,f,n,r,0,i),l=t.d,o=t.e,u=qt),s=l[n],a=i/2,u=u||l[n+1]!==void 0,u=r<4?(s!==void 0||u)&&(r===0||r===(t.s<0?3:2)):s>a||s===a&&(r===4||u||r===6&&l[n-1]&1||r===(t.s<0?8:7)),l.length=n,u)for(;++l[--n]>i-1;)l[n]=0,n||(++o,l.unshift(1));for(c=l.length;!l[c-1];--c);for(s=0,p="";s<c;s++)p+=lt.charAt(l[s]);if(h){if(c>1)if(e==16||e==8){for(s=e==16?4:3,--c;c%s;c++)p+="0";for(l=Oe(p,i,e),c=l.length;!l[c-1];--c);for(s=1,p="1.";s<c;s++)p+=lt.charAt(l[s])}else p=p.charAt(0)+"."+p.slice(1);p=p+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)p="0"+p;p="0."+p}else if(++o>c)for(o-=c;o--;)p+="0";else o<c&&(p=p.slice(0,o)+"."+p.slice(o))}p=(e==16?"0x":e==2?"0b":e==8?"0o":"")+p}return t.s<0?"-"+p:p}function Vt(t,e){if(t.length>e)return t.length=e,!0}function Wn(t){return new this(t).abs()}function Gn(t){return new this(t).acos()}function Hn(t){return new this(t).acosh()}function jn(t,e){return new this(t).plus(e)}function Qn(t){return new this(t).asin()}function zn(t){return new this(t).asinh()}function Zn(t){return new this(t).atan()}function Jn(t){return new this(t).atanh()}function Xn(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=$(this,o,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?$(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=$(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(_(t,e,o,1)),e=$(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(_(t,e,o,1)),n}function Yn(t){return new this(t).cbrt()}function $n(t){return P(t=new this(t),t.e+1,2)}function er(t,e,n){return new this(t).clamp(e,n)}function tr(t){if(!t||typeof t!="object")throw Error(We+"Object expected");var e,n,r,i=t.defaults===!0,o=["precision",1,ce,"rounding",0,8,"toExpNeg",-he,0,"toExpPos",0,he,"maxE",0,he,"minE",-he,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=pt[n]),(r=t[n])!==void 0)if(H(r)===r&&r>=o[e+1]&&r<=o[e+2])this[n]=r;else throw Error(ue+n+": "+r);if(n="crypto",i&&(this[n]=pt[n]),(r=t[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Gt);else this[n]=!1;else throw Error(ue+n+": "+r);return this}function nr(t){return new this(t).cos()}function rr(t){return new this(t).cosh()}function Yt(t){var e,n,r;function i(o){var s,a,c,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,Ut(o)){u.s=o.s,L?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;L?s>i.maxE?(u.e=NaN,u.d=null):s<i.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[o]):(u.e=s,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return mt(u,o.toString())}else if(c!=="string")throw Error(ue+o);return(a=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(a===43&&(o=o.slice(1)),u.s=1),jt.test(o)?mt(u,o):Un(u,o)}if(i.prototype=d,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=tr,i.clone=Yt,i.isDecimal=Ut,i.abs=Wn,i.acos=Gn,i.acosh=Hn,i.add=jn,i.asin=Qn,i.asinh=zn,i.atan=Zn,i.atanh=Jn,i.atan2=Xn,i.cbrt=Yn,i.ceil=$n,i.clamp=er,i.cos=nr,i.cosh=rr,i.div=ir,i.exp=or,i.floor=sr,i.hypot=ar,i.ln=ur,i.log=cr,i.log10=pr,i.log2=lr,i.max=fr,i.min=dr,i.mod=mr,i.mul=gr,i.pow=hr,i.random=br,i.round=yr,i.sign=wr,i.sin=xr,i.sinh=Tr,i.sqrt=Pr,i.sub=Ar,i.sum=Sr,i.tan=Br,i.tanh=Lr,i.trunc=kr,t===void 0&&(t={}),t&&t.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ir(t,e){return new this(t).div(e)}function or(t){return new this(t).exp()}function sr(t){return P(t=new this(t),t.e+1,3)}function ar(){var t,e,n=new this(0);for(L=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return L=!0,new this(1/0);n=e}return L=!0,n.sqrt()}function Ut(t){return t instanceof je||t&&t.toStringTag===Ht||!1}function ur(t){return new this(t).ln()}function cr(t,e){return new this(t).log(e)}function lr(t){return new this(t).log(2)}function pr(t){return new this(t).log(10)}function fr(){return Zt(this,arguments,"lt")}function dr(){return Zt(this,arguments,"gt")}function mr(t,e){return new this(t).mod(e)}function gr(t,e){return new this(t).mul(e)}function hr(t,e){return new this(t).pow(e)}function br(t){var e,n,r,i,o=0,s=new this(1),a=[];if(t===void 0?t=this.precision:J(t,1,ce),r=Math.ceil(t/S),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);o<r;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(a.push(i%1e7),o+=4);o=r/4}else throw Error(Gt);else for(;o<r;)a[o++]=Math.random()*1e7|0;for(r=a[--o],t%=S,r&&t&&(i=W(10,S-t),a[o]=(r/i|0)*i);a[o]===0;o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=S)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<S&&(n-=S-r)}return s.e=n,s.d=a,s}function yr(t){return P(t=new this(t),t.e+1,this.rounding)}function wr(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function xr(t){return new this(t).sin()}function Tr(t){return new this(t).sinh()}function Pr(t){return new this(t).sqrt()}function Ar(t,e){return new this(t).sub(e)}function Sr(){var t=0,e=arguments,n=new this(e[t]);for(L=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return L=!0,P(n,this.precision,this.rounding)}function Br(t){return new this(t).tan()}function Lr(t){return new this(t).tanh()}function kr(t){return P(t=new this(t),t.e+1,1)}d[Symbol.for("nodejs.util.inspect.custom")]=d.toString;d[Symbol.toStringTag]="Decimal";var je=d.constructor=Yt(pt);Ve=new je(Ve);Ue=new je(Ue);import ii from"big.js";import tu from"bn.js";import{get as $t,set as Cr}from"lodash";var ht=class{logLevel;name;constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let n=e.map(r=>typeof r=="object"?JSON.stringify(r):r).join(", ");throw new Error(n)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},en={},Nr={};function j(t){let e=$t(en,t);if(!e){let n=$t(Nr,t);e=new ht({name:t,logLevel:n}),Cr(en,t,e)}return e}import{PublicKey as Mr}from"@solana/web3.js";import{MINT_SIZE as Fi,TOKEN_PROGRAM_ID as Oi,getTransferFeeConfig as Vi,unpackMint as Ui}from"@solana/spl-token";var bt=j("Raydium_accountInfo_util");async function tn(t,e,n){let{batchRequest:r,commitment:i="confirmed",chunkCount:o=100}={batchRequest:!1,...n},s=yt(e,o),a=new Array(s.length).fill([]);if(r){let c=s.map(l=>{let f=t._buildArgs([l.map(m=>m.toBase58())],i,"base64");return{methodName:"getMultipleAccounts",args:f}}),u=yt(c,10);a=(await(await Promise.all(u.map(async l=>await t._rpcBatchRequest(l)))).flat()).map(l=>(l.error&&bt.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${l.error.message}`),l.result.value.map(f=>{if(f){let{data:m,executable:h,lamports:y,owner:g,rentEpoch:T}=f;return m.length!==2&&m[1]!=="base64"&&bt.logWithError("info must be base64 encoded, RPC_ERROR"),{data:Buffer.from(m[0],"base64"),executable:h,lamports:y,owner:new Mr(g),rentEpoch:T}}return null})))}else try{a=await Promise.all(s.map(c=>t.getMultipleAccountsInfo(c,i)))}catch(c){c instanceof Error&&bt.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${c.message}`)}return a.flat()}import Be from"bn.js";var nn=9007199254740991;function ie(t){let e=j("Raydium_parseBigNumberish");if(t instanceof Be)return t;if(typeof t=="string"){if(t.match(/^-?[0-9]+$/))return new Be(t);e.logWithError(`invalid BigNumberish string: ${t}`)}return typeof t=="number"?(t%1&&e.logWithError(`BigNumberish number underflow: ${t}`),(t>=nn||t<=-nn)&&e.logWithError(`BigNumberish number overflow: ${t}`),new Be(String(t))):typeof t=="bigint"?new Be(t.toString()):(e.error(`invalid BigNumberish value: ${t}`),new Be(0))}import{PublicKey as Er}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as rn}from"@solana/spl-token";var on={chainId:101,address:Er.default.toBase58(),programId:rn.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},de={chainId:101,address:"So11111111111111111111111111111111111111112",programId:rn.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as Tt}from"@solana/web3.js";import{PublicKey as V,SystemProgram as sn,SYSVAR_RENT_PUBKEY as Rr}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as vr}from"@solana/spl-token";function xt({pubkey:t,isSigner:e=!1,isWritable:n=!0}){return{pubkey:t,isWritable:n,isSigner:e}}var eo=[xt({pubkey:vr,isWritable:!1}),xt({pubkey:sn.programId,isWritable:!1}),xt({pubkey:Rr,isWritable:!1})];function an({publicKey:t,transformSol:e}){let n=un(t.toString());if(n instanceof V)return e&&n.equals(Le)?wt:n;if(e&&n.toString()===Le.toBase58())return wt;if(typeof n=="string"){if(n===V.default.toBase58())return V.default;try{return new V(n)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function un(t){try{return new V(t)}catch{return t}}var to=new V("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),no=new V("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),ro=new V("SysvarRent111111111111111111111111111111111"),io=new V("SysvarC1ock11111111111111111111111111111111"),oo=new V("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),so=new V("Sysvar1nstructions1111111111111111111111111"),ao=sn.programId,uo=new V("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),co=new V("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),lo=new V("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),po=new V("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),fo=new V("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),mo=new V("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),go=new V("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),ho=new V("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),bo=new V("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),yo=new V("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),wo=new V("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),wt=new V("So11111111111111111111111111111111111111112"),Le=V.default;var Pt=class{symbol;name;decimals;isToken2022;mint;constructor({mint:e,decimals:n,symbol:r,name:i,skipMint:o=!1,isToken2022:s=!1}){if(e===Le.toBase58()||e instanceof Tt&&Le.equals(e)){this.decimals=de.decimals,this.symbol=de.symbol,this.name=de.name,this.mint=new Tt(de.address),this.isToken2022=!1;return}this.decimals=n,this.symbol=r||e.toString().substring(0,6),this.name=i||e.toString().substring(0,6),this.mint=o?Tt.default:an({publicKey:e}),this.isToken2022=s}equals(e){return this===e?!0:this.mint.equals(e.mint)}},ye=Pt;Fe(ye,"WSOL",new Pt({...de,mint:de.address}));var At=class{symbol;name;decimals;constructor({decimals:e,symbol:n="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=n,this.name=r}equals(e){return this===e}},Qe=At;Fe(Qe,"SOL",new At(on));import Dr from"toformat";var Ir=Dr,ke=Ir;import Ze from"big.js";import _r from"bn.js";import Fr from"decimal.js-light";var ze=j("module/fraction"),St=ke(Ze),Ce=ke(Fr),Or={[0]:Ce.ROUND_DOWN,[1]:Ce.ROUND_HALF_UP,[2]:Ce.ROUND_UP},Vr={[0]:Ze.roundDown,[1]:Ze.roundHalfUp,[2]:Ze.roundUp},F=class{numerator;denominator;constructor(e,n=new _r(1)){this.numerator=ie(e),this.denominator=ie(n)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new F(this.denominator,this.numerator)}add(e){let n=e instanceof F?e:new F(ie(e));return this.denominator.eq(n.denominator)?new F(this.numerator.add(n.numerator),this.denominator):new F(this.numerator.mul(n.denominator).add(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}sub(e){let n=e instanceof F?e:new F(ie(e));return this.denominator.eq(n.denominator)?new F(this.numerator.sub(n.numerator),this.denominator):new F(this.numerator.mul(n.denominator).sub(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}mul(e){let n=e instanceof F?e:new F(ie(e));return new F(this.numerator.mul(n.numerator),this.denominator.mul(n.denominator))}div(e){let n=e instanceof F?e:new F(ie(e));return new F(this.numerator.mul(n.denominator),this.denominator.mul(n.numerator))}toSignificant(e,n={groupSeparator:""},r=1){Number.isInteger(e)||ze.logWithError(`${e} is not an integer.`),e<=0&&ze.logWithError(`${e} is not positive.`),Ce.set({precision:e+1,rounding:Or[r]});let i=new Ce(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),n)}toFixed(e,n={groupSeparator:""},r=1){return Number.isInteger(e)||ze.logWithError(`${e} is not an integer.`),e<0&&ze.logWithError(`${e} is negative.`),St.DP=e,St.RM=Vr[r]||1,new St(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,n)}isZero(){return this.numerator.isZero()}};import Ur from"bn.js";var Uo=new F(new Ur(100));var Qo=j("Raydium_price");function yt(t,e=1,n=[]){let r=[...t];if(e<=0)return n;for(;r.length;)n.push(r.splice(0,e));return n}import{PublicKey as Bs}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as ks}from"@solana/spl-token";import{ComputeBudgetProgram as fn,Keypair as mn,PublicKey as hs,Transaction as gn,TransactionMessage as qr,VersionedTransaction as hn}from"@solana/web3.js";var Q={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip",NonceAccount:"NonceAccount"};import{TOKEN_PROGRAM_ID as Wr}from"@solana/spl-token";var dn=j("Raydium_txUtil"),bn=1644;function Xe(t){let e=[],n=[];return t.microLamports&&(e.push(fn.setComputeUnitPrice({microLamports:t.microLamports})),n.push(Q.SetComputeUnitPrice)),t.units&&(e.push(fn.setComputeUnitLimit({units:t.units})),n.push(Q.SetComputeUnitLimit)),{instructions:e,instructionTypes:n}}async function we(t,e){let n=e??"confirmed";return(await t.getLatestBlockhash?.({commitment:n}))?.blockhash}async function Ye(t,e){return t.getSignatureStatuses([e]),new Promise((n,r)=>{let i=setTimeout(r,6e4);t.onSignature(e,o=>{if(clearTimeout(i),!o.err){n("");return}r(Object.assign(o.err,{txId:e}))},"confirmed")})}function Gr(t,e){t.length<1&&dn.logWithError(`no instructions provided: ${t.toString()}`),e.length<1&&dn.logWithError(`no signers provided:, ${e.toString()}`);let n=new gn;n.recentBlockhash="11111111111111111111111111111111",n.feePayer=e[0],n.add(...t);try{return Buffer.from(n.serialize({verifySignatures:!1})).toString("base64").length<bn}catch{return!1}}function Ne({instructions:t,payer:e,signers:n}){return Gr(t,[e,...n])}function Me({instructions:t,payer:e,lookupTableAddressAccount:n,recentBlockhash:r=mn.generate().publicKey.toString()}){let o=new qr({payerKey:e,recentBlockhash:r,instructions:t}).compileToV0Message(Object.values(n??{}));try{return Buffer.from(new hn(o).serialize()).toString("base64").length<bn}catch{return!1}}var Hr=t=>Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.from(t),jr=t=>{let e=t.serialize({requireAllSignatures:!1,verifySignatures:!1});t instanceof hn&&(e=Hr(e));try{return e instanceof Buffer?e.toString("base64"):Buffer.from(e).toString("base64")}catch{return e.toString("base64")}};function me(t){let e=[];return t.forEach(n=>{n instanceof gn&&(n.recentBlockhash||(n.recentBlockhash=Wr.toBase58()),n.feePayer||(n.feePayer=mn.generate().publicKey)),e.push(jr(n))}),console.log("simulate tx string:",e),e}import{PublicKey as k}from"@solana/web3.js";var Es=new k("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),Rs=new k("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),vs=new k("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Ds=new k("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Is=new k("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),Ks=new k("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),_s=new k("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Fs=new k("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Os=new k("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Vs=new k("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Us=new k("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),qs=new k("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Ws=new k("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),Gs=new k("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Hs=new k("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),js=new k("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Qs=new k("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),zs=new k("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Zs=new k("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Js=new k("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Xs=new k("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Ys=new k("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),Qr=new k("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),zr=new k("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),Zr=new k("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),$s=new k("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Jr=new k("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),ea=new k("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Xr=new k("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),ta=new k("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),na=new k("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Yr=new k("LanD8FpTBBvzZFXjTxsAoipkFsxPUCDB4qAqKxYDiNP"),$r=new k("HYNHiyKJ3gGVFvyxJAurK7qr7P2o5J9THmvCGMdULtpW");var ra={SERUM_MARKET:k.default,OPENBOOK_MARKET:new k("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),UTIL1216:k.default,FarmV3:new k("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),FarmV5:new k("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),FarmV6:new k("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),AmmV4:new k("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),AmmStable:new k("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),CLMM:new k("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),CLMM_LOCK_PROGRAM_ID:new k("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),CLMM_LOCK_AUTH_ID:new k("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),Router:new k("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),CREATE_CPMM_POOL_PROGRAM:Qr,CREATE_CPMM_POOL_AUTH:zr,CREATE_CPMM_POOL_FEE_ACC:Zr,FEE_DESTINATION_ID:new k("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR"),LOCK_CPMM_PROGRAM:Jr,LCOK_CPMM_AUTH:Xr,LAUNCHPAD_PROGRAM:Yr,LAUNCHPAD_AUTH:$r};import sa from"bn.js";import{PublicKey as yn,AddressLookupTableAccount as $e}from"@solana/web3.js";async function Bt({connection:t,address:e}){let n=await tn(t,[...new Set(e.map(i=>i.toString()))].map(i=>new yn(i))),r={};for(let i=0;i<e.length;i++){let o=n[i],s=e[i];if(!o)continue;let a=new $e({key:s,state:$e.deserialize(o.data)});r[s.toString()]=a,et[s.toString()]=a}return r}var et={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new $e({key:new yn("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:$e.deserialize(Buffer.from("AQAAAP//////////I1rcEwAAAAAvAQYwun9CU6c5Ikm2pAj+D9IEnCOR45nK+SFTGSdpd6J6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/wFSlNQ+F3IgtYUpVZyeIopbd8eq6vQpgZ4iEky9O72oAVKU1qZKSEGTSTocWDaOHx8NbXdvJK7geQfqEBBBUSNBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUbIScv+6Yw2LHF/6K0ZjUPibbSWXCirYPGuuVl7zT789IUPLW4CpHr4JNCatp3ELXDLKMv6JJ+37le50lbBJ2LvBkX2T9y7AHdNGviJAqQNtlDUDCnauQRWybsLji6nPM8Qkw5asQRvCdB3MbX6IEBwytOrpM32l4jQygKG9TKgR0vZScQ2AsM/IHeQ7RajUkyhuZdc8SGiqQz/7H34torNR/Wir3sl0ruUrVxJWEZfUg+QLNAxxODdBi53/OP7Ioil1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHqkqWotPKVlShCVQqpP9W5W1rOao65IMk5QuQ2kMIOxzDMKAy2vjGSxQODgBz0QwGA+eP4ZjIjrIAQaXENv31QfLlOdXSRCkaybRniDHF4C8YcwhcvsqrOVuTP4B2Na+9wLdtrB31uz2rtlFI5kahdsnp/d1SrASDInYCtTYtdoke4kX+hoKWcEWM4Tle8pTUkUVv4BxS6fje/EzKBE4Qu/YsA/yfEEFGcr8Z57VKDw8uQzpiru7g4lvjnfapW62W030syevD8k07SGoxUHiuT/ai7gAHWWhDsVmg/C63ajgpkH7Sn3GdutArDTfyqOkdqv4/IPC/EFFy7mGkfDd2C57N5a/4jC+BbmJy7wQaSEZr0CQU88lPtUxIVvzGjC95b8Ooss2TqmkrayGKofkPMGQn7Ux+9lfwBSNfxwH8NgbpqC/7LNlV4I7nCvsXf3p+ohQk9NrAJb2KAFpUqEIJ9ZBV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCCsvhD16TxJjsbgne1kGnQPCFSoaxUbq2V1bPMFQ3VYP6wDZ9bKStCFKx9A3tNbwZFC5ZGAN83MFK7XoTy+OmmcFEr6rLOjfSuTfPvHJkSVxW6Qllwkl67XcBi5v00u2gQsbu+38sp+rd5pA/LvyWj4P94ZGZwc1tE2P88xekCLcAwZGb+UhFzL/7K26csOb57yM5bvF9xJrLEObOkAAAAAn+HWRkdcPKyFFMnVwEoD7vnD0jCKFIU1sImubYCxNTSVzsKpaQX+fzNxrLAI3L14JQnJx/D6Uk2LADIHGqnGELzjEbkBDAlaM77NkXMPfqXNLSveCkWI7UEgNs31WEWB6XHSYI/v5DklHOb4QTtDOR804PVbi3fjloZeLR2F8d4FuZmMMO7ck3Fnkn2zEMG5gOmqsygb6PjTitArVl52NhcSznTxVnguaIJxiZkAnurDmn3MWR0PC2GLghp2KJqHCc6QQ85odeIjFHKOlRlJyeSXVJmL8vb1UgOzsbJPVP8p6zM4M3C1Sd7uWIHP33G42AP2Zg8ucn/n6meQjjD266JgCWdxZD6PXs9CsnIeL7SSG0/6lGb9xfP0ZcWkCXB/3hjxHYVXjra/GPOeXGk0fLLKjCbk+mgs2w6d2oCwimBipTzuoZ30GiI8ij8VRzD5CzMWtu2m21eDBIfjGAEo4pQeNNonKcqzV/cleX8ySZLOHsz8PtBCrLqF+VkLm9hOzIT+6i/nIf6keR4GWKMOD4AvqfpjHoD4DuhBpz8P28+DxkGrDXXr/nr20x291VPvcTU/b+b+o2kC9G0kcXeTlLjU6a2TQXWlZ4gBUdBl1jgT7mObSTpLblNiXZsLkbmVXZwvFKXua5cUKlWed/w30skmEUraTuQqtqr5fHZPW9n57EmeTif6LjHL2YJFZkQU+TrJmFzqzmF4/b8OwrPQAprl8mX3q4LUIdAS/a+11B6DWD1Xk2++Sn94dLC4xjkO4Wtlw8c4XuzciVbepHOmnoWzVu/0y3KCrLCSfQxQ3br8DJCoVzhgtPsS2nZZjsBGIZgnU0QpMv+2MnRsnKwdp1VsrCX84j/qvaZn4WhKunippgTbN2EUs0tPTP55Qfgj+nKmjtWW5IYs72FrEwJKYoNfsmqaF4o5pf4v9zgPwVwY/5I4XJKUL2L25m9kAQcW/K+H1RTFEUoj8Z4ajpOmAB/dG0COmCphVMW2CCMvnxhcGiSgPnpDuWu6qiJ7NG7ye5kvHgefgqPLeicspNJ5EpL3XiRNLM2tmJLI1awAwOyd6iHv0dCkMYRKaa6rcaZeYwmKCkckm0kM2JNmnmmAaBQQ7mwmIM0IMxX4f5W6j9PqZWcJxF7r17T/lQBAmcjoupRiJifbnXCNUv9GhpRF19WcBdeKbivRJVlGop6I2RS6lGImJ9udcI1S/0aGlEXX1ZwF14puK9ElWUainojZFYVHLHD6dIP2ESjqBzg3ol1/wB7+/ylGwd9LS7wSZ2A630CJSVKwH47K9P4bB8PEQP8BwjMFa7xQHOqZFP1XqaQ==","base64"))})};import{PublicKey as xe,sendAndConfirmTransaction as Lt,SystemProgram as ti,Transaction as Ee,TransactionMessage as Re,VersionedTransaction as ve}from"@solana/web3.js";import ni from"axios";var tt=2e3,nt=class{connection;owner;instructions=[];endInstructions=[];lookupTableAddress=[];signers=[];instructionTypes=[];endInstructionTypes=[];feePayer;cluster;signAllTransactions;blockhashCommitment;loopMultiTxStatus;constructor(e){this.connection=e.connection,this.feePayer=e.feePayer,this.signAllTransactions=e.signAllTransactions,this.owner=e.owner,this.cluster=e.cluster,this.blockhashCommitment=e.blockhashCommitment,this.loopMultiTxStatus=!!e.loopMultiTxStatus}get AllTxData(){return{instructions:this.instructions,endInstructions:this.endInstructions,signers:this.signers,instructionTypes:this.instructionTypes,endInstructionTypes:this.endInstructionTypes,lookupTableAddress:this.lookupTableAddress}}get allInstructions(){return[...this.instructions,...this.endInstructions]}async getComputeBudgetConfig(){let e=(await ni.get(`https://solanacompass.com/api/fees?cacheFreshTime=${3e5}`)).data,{avg:n}=e?.[15]??{};if(!!n)return{units:6e5,microLamports:Math.min(Math.ceil(n*1e6/6e5),25e3)}}addCustomComputeBudget(e){if(e){let{instructions:n,instructionTypes:r}=Xe(e);return this.instructions.unshift(...n),this.instructionTypes.unshift(...r),!0}return!1}addTipInstruction(e){return e?(this.endInstructions.push(ti.transfer({fromPubkey:e.feePayer??this.feePayer,toPubkey:new xe(e.address),lamports:BigInt(e.amount.toString())})),this.endInstructionTypes.push(Q.TransferTip),!0):!1}async calComputeBudget({config:e,defaultIns:n}){try{let r=e||await this.getComputeBudgetConfig();if(this.addCustomComputeBudget(r))return;n&&this.instructions.unshift(...n)}catch{n&&this.instructions.unshift(...n)}}addInstruction({instructions:e=[],endInstructions:n=[],signers:r=[],instructionTypes:i=[],endInstructionTypes:o=[],lookupTableAddress:s=[]}){return this.instructions.push(...e),this.endInstructions.push(...n),this.signers.push(...r),this.instructionTypes.push(...i),this.endInstructionTypes.push(...o),this.lookupTableAddress.push(...s.filter(a=>a!==xe.default.toString())),this}async versionBuild({txVersion:e,extInfo:n},r){return e===0?await this.buildV0({...n||{}},r):this.build(n,r)}build(e,n){let r=new Ee;return this.allInstructions.length&&r.add(...this.allInstructions),r.feePayer=this.feePayer,this.owner?.signer&&!this.signers.some(i=>i.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer),{builder:this,transaction:r,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async i=>{let{recentBlockHash:o,skipPreflight:s=!0,sendAndConfirm:a,notSendToRpc:c}=i||{},u=o??n??await we(this.connection,this.blockhashCommitment);if(r.recentBlockhash=u,this.signers.length&&r.sign(...this.signers),me([r]),this.owner?.isKeyPair)return{txId:a?await Lt(this.connection,r,this.signers.find(l=>l.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:s}):await this.connection.sendRawTransaction(r.serialize(),{skipPreflight:s}),signedTx:r};if(this.signAllTransactions){let p=await this.signAllTransactions([r]);if(this.signers.length)for(let l of p)try{l.sign(...this.signers)}catch{}return{txId:c?"":await this.connection.sendRawTransaction(p[0].serialize(),{skipPreflight:s}),signedTx:p[0]}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:e||{}}}buildMultiTx(e){let{extraPreBuildData:n=[],extInfo:r}=e,{transaction:i}=this.build(r),o=n.filter(u=>u.transaction.instructions.length>0),s=[i,...o.map(u=>u.transaction)],a=[this.signers,...o.map(u=>u.signers)],c=[...this.instructionTypes,...o.map(u=>u.instructionTypes).flat()];return this.owner?.signer&&a.forEach(u=>{u.some(p=>p.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),{builder:this,transactions:s,signers:a,instructionTypes:c,execute:async u=>{let{sequentially:p,onTxUpdate:l,skipTxCount:f=0,recentBlockHash:m,skipPreflight:h=!0}=u||{},y=m??await we(this.connection,this.blockhashCommitment);if(this.owner?.isKeyPair){if(p){let g=[],T=0;for(let w of s){if(++T,T<=f)continue;let b=await Lt(this.connection,w,this.signers.find(x=>x.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:h});g.push(b)}return{txIds:g,signedTxs:s}}return{txIds:await await Promise.all(s.map(async g=>(g.recentBlockhash=y,await this.connection.sendRawTransaction(g.serialize(),{skipPreflight:h})))),signedTxs:s}}if(this.signAllTransactions){let g=s.map((w,b)=>(w.recentBlockhash=y,a[b].length&&w.sign(...a[b]),w));me(g);let T=await this.signAllTransactions(g);if(p){let w=0,b=[],x=async()=>{if(!T[w])return;let A=await this.connection.sendRawTransaction(T[w].serialize(),{skipPreflight:h});b.push({txId:A,status:"sent",signedTx:T[w]}),l?.([...b]),w++;let B=!1,C=null,D=null,v=I=>{C!==null&&clearInterval(C),D!==null&&this.connection.removeSignatureListener(D);let E=b.findIndex(O=>O.txId===A);if(E>-1){if(b[E].status==="error"||b[E].status==="success")return;b[E].status=I.err?"error":"success"}l?.([...b]),I.err||x()};this.loopMultiTxStatus&&(C=setInterval(async()=>{if(B){clearInterval(C);return}try{let I=await this.connection.getTransaction(A,{commitment:"confirmed",maxSupportedTransactionVersion:0});I&&(B=!0,clearInterval(C),v({err:I.meta?.err||null}),console.log("tx status from getTransaction:",A))}catch(I){B=!0,clearInterval(C),console.error("getTransaction timeout:",I,A)}},tt)),D=this.connection.onSignature(A,I=>{if(B){this.connection.removeSignatureListener(D);return}B=!0,v(I)},"confirmed"),this.connection.getSignatureStatus(A)};return await x(),{txIds:b.map(A=>A.txId),signedTxs:T}}else{let w=[];for(let b=0;b<T.length;b+=1){let x=await this.connection.sendRawTransaction(T[b].serialize(),{skipPreflight:h});w.push(x)}return{txIds:w,signedTxs:T}}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:r||{}}}async versionMultiBuild({extraPreBuildData:e,txVersion:n,extInfo:r}){return n===0?await this.buildV0MultiTx({extraPreBuildData:e,buildProps:r||{}}):this.buildMultiTx({extraPreBuildData:e,extInfo:r})}async buildV0(e,n){let{lookupTableCache:r={},lookupTableAddress:i=[],forerunCreate:o,recentBlockhash:s,...a}=e||{},c={...this.cluster==="devnet"?{}:et,...r},u=Array.from(new Set([...i,...this.lookupTableAddress])),p=[];for(let h of u)c[h]===void 0&&p.push(new xe(h));if(p.length>0){let h=await Bt({connection:this.connection,address:p});for(let[y,g]of Object.entries(h))c[y]=g}let l=n??(o?xe.default.toBase58():s??await we(this.connection,this.blockhashCommitment)),f=new Re({payerKey:this.feePayer,recentBlockhash:l,instructions:[...this.allInstructions]}).compileToV0Message(Object.values(c));this.owner?.signer&&!this.signers.some(h=>h.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer);let m=new ve(f);return m.sign(this.signers),{builder:this,transaction:m,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async h=>{let{skipPreflight:y=!0,sendAndConfirm:g,notSendToRpc:T}=h||{};if(me([m]),this.owner?.isKeyPair){let w=await this.connection.sendTransaction(m,{skipPreflight:y});return g&&await Ye(this.connection,w),{txId:w,signedTx:m}}if(this.signAllTransactions){let w=await this.signAllTransactions([m]);if(this.signers.length)for(let b of w)try{b.sign(this.signers)}catch{}return{txId:T?"":await this.connection.sendTransaction(w[0],{skipPreflight:y}),signedTx:w[0]}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:a||{}}}async buildV0MultiTx(e){let{extraPreBuildData:n=[],buildProps:r}=e,{transaction:i}=await this.buildV0(r),o=n.filter(u=>u.builder.instructions.length>0),s=[i,...o.map(u=>u.transaction)],a=[this.signers,...o.map(u=>u.signers)],c=[...this.instructionTypes,...o.map(u=>u.instructionTypes).flat()];return this.owner?.signer&&a.forEach(u=>{u.some(p=>p.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),s.forEach(async(u,p)=>{u.sign(a[p])}),{builder:this,transactions:s,signers:a,instructionTypes:c,buildProps:r,execute:async u=>{let{sequentially:p,onTxUpdate:l,recentBlockHash:f,skipPreflight:m=!0}=u||{};if(f&&s.forEach(h=>h.message.recentBlockhash=f),me(s),this.owner?.isKeyPair){if(p){let h=[];for(let y of s){let g=await this.connection.sendTransaction(y,{skipPreflight:m});await Ye(this.connection,g),h.push(g)}return{txIds:h,signedTxs:s}}return{txIds:await Promise.all(s.map(async h=>await this.connection.sendTransaction(h,{skipPreflight:m}))),signedTxs:s}}if(this.signAllTransactions){let h=await this.signAllTransactions(s);if(p){let y=0,g=[],T=async()=>{if(!h[y])return;let w=await this.connection.sendTransaction(h[y],{skipPreflight:m});g.push({txId:w,status:"sent",signedTx:h[y]}),l?.([...g]),y++;let b=!1,x=null,A=null,B=C=>{x!==null&&clearInterval(x),A!==null&&this.connection.removeSignatureListener(A);let D=g.findIndex(v=>v.txId===w);if(D>-1){if(g[D].status==="error"||g[D].status==="success")return;g[D].status=C.err?"error":"success"}l?.([...g]),C.err||T()};this.loopMultiTxStatus&&(x=setInterval(async()=>{if(b){clearInterval(x);return}try{let C=await this.connection.getTransaction(w,{commitment:"confirmed",maxSupportedTransactionVersion:0});C&&(b=!0,clearInterval(x),B({err:C.meta?.err||null}),console.log("tx status from getTransaction:",w))}catch(C){b=!0,clearInterval(x),console.error("getTransaction timeout:",C,w)}},tt)),A=this.connection.onSignature(w,C=>{if(b){this.connection.removeSignatureListener(A);return}b=!0,B(C)},"confirmed"),this.connection.getSignatureStatus(w)};return T(),{txIds:[],signedTxs:h}}else{let y=[];for(let g=0;g<h.length;g+=1){let T=await this.connection.sendTransaction(h[g],{skipPreflight:m});y.push(T)}return{txIds:y,signedTxs:h}}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:r||{}}}async sizeCheckBuild(e){let{splitIns:n=[],computeBudgetConfig:r,...i}=e||{},o=r?Xe(r):{instructions:[],instructionTypes:[]},s=this.signers.reduce((l,f)=>({...l,[f.publicKey.toBase58()]:f}),{}),a=[],c=[],u=[],p=0;if(this.allInstructions.forEach(l=>{let f=[...u,l],m=r?[...o.instructions,...f]:f,y=[...new Set(f.map(g=>g.keys.filter(T=>T.isSigner).map(T=>T.pubkey.toString())).flat()).values()].map(g=>new xe(g));if(l!==n[p]&&u.length<12&&(Ne({instructions:m,payer:this.feePayer,signers:y})||Ne({instructions:f,payer:this.feePayer,signers:y})))u.push(l);else{if(u.length===0)throw Error("item ins too big");p+=l===n[p]?1:0,Ne({instructions:r?[...o.instructions,...u]:[...u],payer:this.feePayer,signers:y})?a.push(new Ee().add(...o.instructions,...u)):a.push(new Ee().add(...u)),c.push(Array.from(new Set(u.map(g=>g.keys.filter(T=>T.isSigner).map(T=>T.pubkey.toString())).flat())).map(g=>s[g]).filter(g=>g!==void 0)),u=[l]}}),u.length>0){let f=[...new Set(u.map(m=>m.keys.filter(h=>h.isSigner).map(h=>h.pubkey.toString())).flat()).values()].map(m=>s[m]).filter(m=>m!==void 0);Ne({instructions:r?[...o.instructions,...u]:[...u],payer:this.feePayer,signers:f.map(m=>m.publicKey)})?a.push(new Ee().add(...o.instructions,...u)):a.push(new Ee().add(...u)),c.push(f)}return a.forEach(l=>l.feePayer=this.feePayer),this.owner?.signer&&c.forEach(l=>{l.some(f=>f.publicKey.equals(this.owner.publicKey))||l.push(this.owner.signer)}),{builder:this,transactions:a,signers:c,instructionTypes:this.instructionTypes,execute:async l=>{let{sequentially:f,onTxUpdate:m,skipTxCount:h=0,recentBlockHash:y,skipPreflight:g=!0}=l||{},T=y??await we(this.connection,this.blockhashCommitment);if(a.forEach(async(w,b)=>{w.recentBlockhash=T,c[b].length&&w.sign(...c[b])}),me(a),this.owner?.isKeyPair){if(f){let w=0,b=[];for(let x of a){if(++w,w<=h){b.push("tx skipped");continue}let A=await Lt(this.connection,x,this.signers.find(B=>B.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:g});b.push(A)}return{txIds:b,signedTxs:a}}return{txIds:await Promise.all(a.map(async w=>await this.connection.sendRawTransaction(w.serialize(),{skipPreflight:g}))),signedTxs:a}}if(this.signAllTransactions){let w=await this.signAllTransactions(a.slice(h,a.length)),b=[...a.slice(0,h),...w];if(f){let x=0,A=[],B=async()=>{if(!b[x])return;x<h&&(A.push({txId:"",status:"success",signedTx:b[x]}),m?.([...A]),x++,B());let C=await this.connection.sendRawTransaction(b[x].serialize(),{skipPreflight:g});A.push({txId:C,status:"sent",signedTx:b[x]}),m?.([...A]),x++;let D=!1,v=null,I=null,E=O=>{v!==null&&clearInterval(v),I!==null&&this.connection.removeSignatureListener(I);let U=A.findIndex(Z=>Z.txId===C);if(U>-1){if(A[U].status==="error"||A[U].status==="success")return;A[U].status=O.err?"error":"success"}m?.([...A]),O.err||B()};this.loopMultiTxStatus&&(v=setInterval(async()=>{if(D){clearInterval(v);return}try{let O=await this.connection.getTransaction(C,{commitment:"confirmed",maxSupportedTransactionVersion:0});O&&(D=!0,clearInterval(v),E({err:O.meta?.err||null}),console.log("tx status from getTransaction:",C))}catch(O){D=!0,clearInterval(v),console.error("getTransaction timeout:",O,C)}},tt)),I=this.connection.onSignature(C,O=>{if(D){this.connection.removeSignatureListener(I);return}D=!0,E(O)},"confirmed"),this.connection.getSignatureStatus(C)};return await B(),{txIds:A.map(C=>C.txId),signedTxs:b}}else{let x=[];for(let A=0;A<b.length;A+=1){let B=await this.connection.sendRawTransaction(b[A].serialize(),{skipPreflight:g});x.push(B)}return{txIds:x,signedTxs:b}}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:i||{}}}async sizeCheckBuildV0(e){let{computeBudgetConfig:n,splitIns:r=[],lookupTableCache:i={},lookupTableAddress:o=[],...s}=e||{},a={...this.cluster==="devnet"?{}:et,...i},c=Array.from(new Set([...this.lookupTableAddress,...o])),u=[];for(let w of c)a[w]===void 0&&u.push(new xe(w));let p=await Bt({connection:this.connection,address:u});for(let[w,b]of Object.entries(p))a[w]=b;let l=n?Xe(n):{instructions:[],instructionTypes:[]},f=await we(this.connection,this.blockhashCommitment),m=this.signers.reduce((w,b)=>({...w,[b.publicKey.toBase58()]:b}),{}),h=[],y=[],g=[],T=0;if(this.allInstructions.forEach(w=>{let b=[...g,w],x=n?[...l.instructions,...b]:b;if(w!==r[T]&&g.length<12&&(Me({instructions:x,payer:this.feePayer,lookupTableAddressAccount:a})||Me({instructions:b,payer:this.feePayer,lookupTableAddressAccount:a})))g.push(w);else{if(g.length===0)throw Error("item ins too big");T+=w===r[T]?1:0;let A={};for(let B of[...new Set(c)])a[B]!==void 0&&(A[B]=a[B]);if(n&&Me({instructions:[...l.instructions,...g],payer:this.feePayer,lookupTableAddressAccount:a,recentBlockhash:f})){let B=new Re({payerKey:this.feePayer,recentBlockhash:f,instructions:[...l.instructions,...g]}).compileToV0Message(Object.values(a));h.push(new ve(B))}else{let B=new Re({payerKey:this.feePayer,recentBlockhash:f,instructions:[...g]}).compileToV0Message(Object.values(a));h.push(new ve(B))}y.push(Array.from(new Set(g.map(B=>B.keys.filter(C=>C.isSigner).map(C=>C.pubkey.toString())).flat())).map(B=>m[B]).filter(B=>B!==void 0)),g=[w]}}),g.length>0){let b=[...new Set(g.map(x=>x.keys.filter(A=>A.isSigner).map(A=>A.pubkey.toString())).flat()).values()].map(x=>m[x]).filter(x=>x!==void 0);if(n&&Me({instructions:[...l.instructions,...g],payer:this.feePayer,lookupTableAddressAccount:a,recentBlockhash:f})){let x=new Re({payerKey:this.feePayer,recentBlockhash:f,instructions:[...l.instructions,...g]}).compileToV0Message(Object.values(a));h.push(new ve(x))}else{let x=new Re({payerKey:this.feePayer,recentBlockhash:f,instructions:[...g]}).compileToV0Message(Object.values(a));h.push(new ve(x))}y.push(b)}return this.owner?.signer&&y.forEach(w=>{w.some(b=>b.publicKey.equals(this.owner.publicKey))||w.push(this.owner.signer)}),h.forEach((w,b)=>{w.sign(y[b])}),{builder:this,transactions:h,buildProps:e,signers:y,instructionTypes:this.instructionTypes,execute:async w=>{let{sequentially:b,onTxUpdate:x,skipTxCount:A=0,recentBlockHash:B,skipPreflight:C=!0}=w||{};if(h.map(async(D,v)=>{y[v].length&&D.sign(y[v]),B&&(D.message.recentBlockhash=B)}),me(h),this.owner?.isKeyPair){if(b){let D=0,v=[];for(let I of h){if(++D,D<=A){console.log("skip tx: ",D),v.push("tx skipped");continue}let E=await this.connection.sendTransaction(I,{skipPreflight:C});await Ye(this.connection,E),v.push(E)}return{txIds:v,signedTxs:h}}return{txIds:await Promise.all(h.map(async D=>await this.connection.sendTransaction(D,{skipPreflight:C}))),signedTxs:h}}if(this.signAllTransactions){let D=await this.signAllTransactions(h.slice(A,h.length)),v=[...h.slice(0,A),...D];if(b){let I=0,E=[],O=async()=>{if(!v[I])return;if(I<A){E.push({txId:"",status:"success",signedTx:v[I]}),x?.([...E]),I++,O();return}let U=await this.connection.sendTransaction(v[I],{skipPreflight:C});E.push({txId:U,status:"sent",signedTx:v[I]}),x?.([...E]),I++;let Z=!1,K=null,R=null,X=Y=>{K!==null&&clearInterval(K),R!==null&&this.connection.removeSignatureListener(R);let _e=E.findIndex(Rn=>Rn.txId===U);if(_e>-1){if(E[_e].status==="error"||E[_e].status==="success")return;E[_e].status=Y.err?"error":"success"}x?.([...E]),Y.err||O()};this.loopMultiTxStatus&&(K=setInterval(async()=>{if(Z){clearInterval(K);return}try{let Y=await this.connection.getTransaction(U,{commitment:"confirmed",maxSupportedTransactionVersion:0});Y&&(Z=!0,clearInterval(K),X({err:Y.meta?.err||null}),console.log("tx status from getTransaction:",U))}catch(Y){Z=!0,clearInterval(K),console.error("getTransaction timeout:",Y,U)}},tt)),R=this.connection.onSignature(U,Y=>{if(Z){this.connection.removeSignatureListener(R);return}Z=!0,X(Y)},"confirmed"),this.connection.getSignatureStatus(U)};return O(),{txIds:[],signedTxs:v}}else{let I=[];for(let E=0;E<v.length;E+=1){let O=await this.connection.sendTransaction(v[E],{skipPreflight:C});I.push(O)}return{txIds:I,signedTxs:v}}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:s||{}}}};import{PublicKey as Ba}from"@solana/web3.js";import ka from"bn.js";import ri from"bn.js";var Ra=new ri(1e6);var lu=j("Raydium_amount"),pu=ke(ii);var Je=new oe(0),Cu=new oe(1),Nu=new oe(2),Mu=new oe(3),Eu=new oe(5),oi=new oe(10),Ru=new oe(100),vu=new oe(1e3),Du=new oe(1e4);import{Keypair as wi,PublicKey as xi}from"@solana/web3.js";import el from"bn.js";import{TOKEN_PROGRAM_ID as Ti}from"@solana/spl-token";function si(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function kt(t,...e){if(!si(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Ct(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wn(t,e){kt(t);let n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var it=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),te=(t,e)=>t<<32-e|t>>>e;var Fu=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ai(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Nt(t){return typeof t=="string"&&(t=ai(t)),kt(t),t}var rt=class{clone(){return this._cloneInto()}},Ou={}.toString;function xn(t){let e=r=>t().update(Nt(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ui(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}var Tn=(t,e,n)=>t&e^~t&n,Pn=(t,e,n)=>t&e^t&n^e&n,ot=class extends rt{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=it(this.buffer)}update(e){Ct(this);let{view:n,buffer:r,blockLen:i}=this;e=Nt(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=it(e);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ct(this),wn(e,this),this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:o}=this,{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let l=s;l<i;l++)n[l]=0;ui(r,i-8,BigInt(this.length*8),o),this.process(r,0);let a=it(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,p=this.get();if(u>p.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,p[l],o)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}};var ci=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),le=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pe=new Uint32Array(64),Mt=class extends ot{constructor(){super(64,32,8,!1),this.A=le[0]|0,this.B=le[1]|0,this.C=le[2]|0,this.D=le[3]|0,this.E=le[4]|0,this.F=le[5]|0,this.G=le[6]|0,this.H=le[7]|0}get(){let{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[e,n,r,i,o,s,a,c]}set(e,n,r,i,o,s,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,n){for(let l=0;l<16;l++,n+=4)pe[l]=e.getUint32(n,!1);for(let l=16;l<64;l++){let f=pe[l-15],m=pe[l-2],h=te(f,7)^te(f,18)^f>>>3,y=te(m,17)^te(m,19)^m>>>10;pe[l]=y+pe[l-7]+h+pe[l-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:u,H:p}=this;for(let l=0;l<64;l++){let f=te(a,6)^te(a,11)^te(a,25),m=p+f+Tn(a,c,u)+ci[l]+pe[l]|0,y=(te(r,2)^te(r,13)^te(r,22))+Pn(r,i,o)|0;p=u,u=c,c=a,a=s+m|0,s=o,o=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,p=p+this.H|0,this.set(r,i,o,s,a,c,u,p)}roundClean(){pe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var An=xn(()=>new Mt);import{PublicKey as bi}from"@solana/web3.js";import Ln,{isBN as qc}from"bn.js";import{bits as li,BitStructure as zu,blob as pi,Blob as Zu,cstr as Ju,f32 as Xu,f32be as Yu,f64 as $u,f64be as ec,greedy as tc,Layout as fi,ns64 as nc,ns64be as rc,nu64 as ic,nu64be as oc,offset as sc,s16 as ac,s16be as uc,s24 as cc,s24be as lc,s32 as pc,s32be as fc,s40 as dc,s40be as mc,s48 as gc,s48be as hc,s8 as bc,seq as yc,struct as wc,Structure as di,u16 as mi,u16be as xc,u24 as Tc,u24be as Pc,u32 as gi,u32be as Ac,u40 as Sc,u40be as Bc,u48 as Lc,u48be as kc,u8 as Cc,UInt as hi,union as Nc,Union as Mc,unionLayoutDiscriminator as Ec,utf8 as Rc}from"@solana/buffer-layout";var st=fi,Sn=di;var Et=hi;var Bn=mi;var Rt=gi;var Te=pi;var vt=li;var Dt=class extends st{blob;signed;constructor(e,n,r){super(e,r),this.blob=Te(e),this.signed=n}decode(e,n=0){let r=new Ln(this.blob.decode(e,n),10,"le");return this.signed?r.fromTwos(this.span*8).clone():r}encode(e,n,r=0){return typeof e=="number"&&(e=new Ln(e)),this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),n,r)}},at=class extends st{_lower;_upper;constructor(e){super(8,e),this._lower=vt(Rt(),!1),this._upper=vt(Rt(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,n=0){let r=this._lower.decode(e,n),i=this._upper.decode(e,n+this._lower.span);return{...r,...i}}encode(e,n,r=0){return this._lower.encode(e,n,r)+this._upper.encode(e,n,r+this._lower.span)}};function ut(t){return new Et(1,t)}function Pe(t){return new Et(4,t)}function q(t){return new Dt(8,!1,t)}var It=class extends st{layout;decoder;encoder;constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}};function z(t){return new It(Te(32),e=>new bi(e),e=>e.toBuffer(),t)}var Kt=class extends Sn{decode(e,n){return super.decode(e,n)}};function Ae(t,e,n){return new Kt(t,e,n)}var yi=Ae([z("mint"),z("owner"),q("amount"),Pe("delegateOption"),z("delegate"),ut("state"),Pe("isNativeOption"),q("isNative"),q("delegatedAmount"),Pe("closeAuthorityOption"),z("closeAuthority")]);var ol=j("Raydium_Util");function fe({fromPublicKey:t,programId:e=Ti,assignSeed:n}){let r=n?btoa(n).slice(0,32):wi.generate().publicKey.toBase58().slice(0,32);return{publicKey:Pi(t,r,e),seed:r}}function Pi(t,e,n){let r=Buffer.concat([t.toBuffer(),Buffer.from(e),n.toBuffer()]),i=An(r);return new xi(i)}var _t=(...t)=>t.map(e=>{try{return typeof e=="object"?JSON.stringify(e):e}catch{return e}}).join(", "),De=class{scope;disabled=!1;logger;constructor({scope:e,moduleName:n}){this.scope=e,this.logger=j(n)}createTxBuilder(e){return this.scope.checkOwner(),new nt({connection:this.scope.connection,feePayer:e||this.scope.ownerPubKey,cluster:this.scope.cluster,owner:this.scope.owner,blockhashCommitment:this.scope.blockhashCommitment,loopMultiTxStatus:this.scope.loopMultiTxStatus,api:this.scope.api,signAllTransactions:this.scope.signAllTransactions})}logDebug(...e){this.logger.debug(_t(e))}logInfo(...e){this.logger.info(_t(e))}logAndCreateError(...e){let n=_t(e);throw new Error(n)}checkDisabled(){(this.disabled||!this.scope)&&this.logAndCreateError("module not working")}};import{SystemProgram as ge,SYSVAR_RENT_PUBKEY as Si,Transaction as kn,TransactionInstruction as Bi}from"@solana/web3.js";import{createInitializeAccountInstruction as Cn,TOKEN_PROGRAM_ID as Nn}from"@solana/spl-token";function Ai(t="accountFlags"){let e=new at(t);return e.addBoolean("initialized"),e.addBoolean("market"),e.addBoolean("openOrders"),e.addBoolean("requestQueue"),e.addBoolean("eventQueue"),e.addBoolean("bids"),e.addBoolean("asks"),e}var Ft=Ae([Te(5),Ai("accountFlags"),z("ownAddress"),q("vaultSignerNonce"),z("baseMint"),z("quoteMint"),z("baseVault"),q("baseDepositsTotal"),q("baseFeesAccrued"),z("quoteVault"),q("quoteDepositsTotal"),q("quoteFeesAccrued"),q("quoteDustThreshold"),z("requestQueue"),z("eventQueue"),z("bids"),z("asks"),q("baseLotSize"),q("quoteLotSize"),q("feeRateBps"),q("referrerRebatesAccrued"),Te(7)]);function Li({programId:t,marketInfo:e}){let n=Ae([ut("version"),Pe("instruction"),q("baseLotSize"),q("quoteLotSize"),Bn("feeRateBps"),q("vaultSignerNonce"),q("quoteDustThreshold")]),r=[{pubkey:e.id,isSigner:!1,isWritable:!0},{pubkey:e.requestQueue,isSigner:!1,isWritable:!0},{pubkey:e.eventQueue,isSigner:!1,isWritable:!0},{pubkey:e.bids,isSigner:!1,isWritable:!0},{pubkey:e.asks,isSigner:!1,isWritable:!0},{pubkey:e.baseVault,isSigner:!1,isWritable:!0},{pubkey:e.quoteVault,isSigner:!1,isWritable:!0},{pubkey:e.baseMint,isSigner:!1,isWritable:!1},{pubkey:e.quoteMint,isSigner:!1,isWritable:!1},{pubkey:e.authority?e.quoteMint:Si,isSigner:!1,isWritable:!1}].concat(e.authority?{pubkey:e.authority,isSigner:!1,isWritable:!1}:[]).concat(e.authority&&e.pruneAuthority?{pubkey:e.pruneAuthority,isSigner:!1,isWritable:!1}:[]),i=Buffer.alloc(n.span);return n.encode({version:0,instruction:0,baseLotSize:e.baseLotSize,quoteLotSize:e.quoteLotSize,feeRateBps:e.feeRateBps,vaultSignerNonce:e.vaultSignerNonce,quoteDustThreshold:e.quoteDustThreshold},i),new Bi({keys:r,programId:t,data:i})}async function Mn({connection:t,wallet:e,marketInfo:n}){let r=new kn,i=await t.getMinimumBalanceForRentExemption(165);r.add(ge.createAccountWithSeed({fromPubkey:e,basePubkey:e,seed:n.baseVault.seed,newAccountPubkey:n.baseVault.publicKey,lamports:i,space:165,programId:Nn}),ge.createAccountWithSeed({fromPubkey:e,basePubkey:e,seed:n.quoteVault.seed,newAccountPubkey:n.quoteVault.publicKey,lamports:i,space:165,programId:Nn}),Cn(n.baseVault.publicKey,n.baseMint,n.vaultOwner),Cn(n.quoteVault.publicKey,n.quoteMint,n.vaultOwner),ge.createAccountWithSeed({fromPubkey:e,basePubkey:e,seed:n.id.seed,newAccountPubkey:n.id.publicKey,lamports:await t.getMinimumBalanceForRentExemption(Ft.span),space:Ft.span,programId:n.programId}));let o=new kn;return o.add(ge.createAccountWithSeed({fromPubkey:e,basePubkey:e,seed:n.requestQueue.seed,newAccountPubkey:n.requestQueue.publicKey,lamports:n.lowestFeeMarket?6208320:await t.getMinimumBalanceForRentExemption(n.requestQueueSpace??5120+12),space:n.lowestFeeMarket?764:n.requestQueueSpace??5120+12,programId:n.programId}),ge.createAccountWithSeed({fromPubkey:e,basePubkey:e,seed:n.eventQueue.seed,newAccountPubkey:n.eventQueue.publicKey,lamports:n.lowestFeeMarket?79594560:await t.getMinimumBalanceForRentExemption(n.eventQueueSpace??262144+12),space:n.lowestFeeMarket?11308:n.eventQueueSpace??262144+12,programId:n.programId}),ge.createAccountWithSeed({fromPubkey:e,basePubkey:e,seed:n.bids.seed,newAccountPubkey:n.bids.publicKey,lamports:n.lowestFeeMarket?101977920:await t.getMinimumBalanceForRentExemption(n.orderbookQueueSpace??65536+12),space:n.lowestFeeMarket?14524:n.orderbookQueueSpace??65536+12,programId:n.programId}),ge.createAccountWithSeed({fromPubkey:e,basePubkey:e,seed:n.asks.seed,newAccountPubkey:n.asks.publicKey,lamports:n.lowestFeeMarket?101977920:await t.getMinimumBalanceForRentExemption(n.orderbookQueueSpace??65536+12),space:n.lowestFeeMarket?14524:n.orderbookQueueSpace??65536+12,programId:n.programId}),Li({programId:n.programId,marketInfo:{id:n.id.publicKey,requestQueue:n.requestQueue.publicKey,eventQueue:n.eventQueue.publicKey,bids:n.bids.publicKey,asks:n.asks.publicKey,baseVault:n.baseVault.publicKey,quoteVault:n.quoteVault.publicKey,baseMint:n.baseMint,quoteMint:n.quoteMint,baseLotSize:n.baseLotSize,quoteLotSize:n.quoteLotSize,feeRateBps:n.feeRateBps,vaultSignerNonce:n.vaultSignerNonce,quoteDustThreshold:n.quoteDustThreshold}})),[{transaction:r,signer:[],instructionTypes:[Q.CreateAccount,Q.CreateAccount,Q.InitAccount,Q.InitAccount]},{transaction:o,signer:[],instructionTypes:[Q.CreateAccount,Q.CreateAccount,Q.CreateAccount,Q.CreateAccount,Q.CreateAccount,Q.InitMarket]}]}var ct=class extends De{async create({baseInfo:e,quoteInfo:n,lotSize:r,tickSize:i,dexProgramId:o,requestQueueSpace:s,eventQueueSpace:a,orderbookQueueSpace:c,lowestFeeMarket:u,assignSeed:p,txVersion:l,computeBudgetConfig:f,txTipConfig:m,feePayer:h}){let y=this.scope.ownerPubKey,g=p?`${e.mint.toBase58().slice(0,10)}-${n.mint.toBase58().slice(0,10)}-${p}`:void 0,T=fe({fromPublicKey:y,programId:o,assignSeed:g&&`${g}-market`}),w=fe({fromPublicKey:y,programId:o,assignSeed:g&&`${g}-request`}),b=fe({fromPublicKey:y,programId:o,assignSeed:g&&`${g}-event`}),x=fe({fromPublicKey:y,programId:o,assignSeed:g&&`${g}-bids`}),A=fe({fromPublicKey:y,programId:o,assignSeed:g&&`${g}-asks`}),B=fe({fromPublicKey:y,programId:En,assignSeed:g&&`${g}-baseVault`}),C=fe({fromPublicKey:y,programId:En,assignSeed:g&&`${g}-quoteVault`}),D=0,v=new Ke(100);function I(){let X=new Ke(0);for(;;)try{return{vaultOwner:Ie.createProgramAddressSync([T.publicKey.toBuffer(),X.toArrayLike(Buffer,"le",8)],o),vaultSignerNonce:X}}catch{if(X.iaddn(1),X.gt(new Ke(25555)))throw Error("find vault owner error")}}let{vaultOwner:E,vaultSignerNonce:O}=I(),U=new Ke(Math.round(10**e.decimals*r)),Z=new Ke(Math.round(r*10**n.decimals*i));if(U.eq(Je))throw Error("lot size is too small");if(Z.eq(Je))throw Error("tick size or lot size is too small");let K=await Mn({connection:this.scope.connection,wallet:this.scope.ownerPubKey,marketInfo:{programId:o,id:T,baseMint:e.mint,quoteMint:n.mint,baseVault:B,quoteVault:C,vaultOwner:E,requestQueue:w,eventQueue:b,bids:x,asks:A,feeRateBps:D,quoteDustThreshold:v,vaultSignerNonce:O,baseLotSize:U,quoteLotSize:Z,requestQueueSpace:s,eventQueueSpace:a,orderbookQueueSpace:c,lowestFeeMarket:u}}),R=this.createTxBuilder(h);R.addInstruction({instructions:K[0].transaction.instructions,signers:K[0].signer});for await(let X of K.slice(1,K.length))R.addInstruction({instructions:X.transaction.instructions,signers:X.signer,instructionTypes:X.instructionTypes});return l===0?R.sizeCheckBuildV0({computeBudgetConfig:f,address:{marketId:T.publicKey,requestQueue:w.publicKey,eventQueue:b.publicKey,bids:x.publicKey,asks:A.publicKey,baseVault:B.publicKey,quoteVault:C.publicKey,baseMint:new Ie(e.mint),quoteMint:new Ie(n.mint)}}):R.sizeCheckBuild({computeBudgetConfig:f,address:{marketId:T.publicKey,requestQueue:w.publicKey,eventQueue:b.publicKey,bids:x.publicKey,asks:A.publicKey,baseVault:B.publicKey,quoteVault:C.publicKey,baseMint:new Ie(e.mint),quoteMint:new Ie(n.mint)}})}};export{Ft as MARKET_STATE_LAYOUT_V2,ct as default,Li as initializeMarket,Mn as makeCreateMarketInstruction};
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
//# sourceMappingURL=index.mjs.map