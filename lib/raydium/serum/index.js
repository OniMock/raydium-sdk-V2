var V=Object.create;var d=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty;var I=(o,e)=>{for(var n in e)d(o,n,{get:e[n],enumerable:!0})},R=(o,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of k(e))!G.call(o,u)&&u!==n&&d(o,u,{get:()=>e[u],enumerable:!(s=v(e,u))||s.enumerable});return o};var N=(o,e,n)=>(n=o!=null?V(K(o)):{},R(e||!o||!o.__esModule?d(n,"default",{value:o,enumerable:!0}):n,o)),H=o=>R(d({},"__esModule",{value:!0}),o);var X={};I(X,{MARKET_STATE_LAYOUT_V3:()=>B,MARKET_VERSION_TO_STATE_LAYOUT:()=>h,Market:()=>w,SERUM_PROGRAMID_TO_VERSION:()=>g,SERUM_VERSION_TO_PROGRAMID:()=>b});module.exports=H(X);var r=require("@solana/web3.js"),$=new r.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),ee=new r.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),te=new r.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),re=new r.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),ne=new r.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),oe=new r.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),f=new r.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),se=new r.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),ue=new r.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),ae=new r.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),ie=new r.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),ce=new r.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),pe=new r.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),ye=new r.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Pe=new r.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),de=new r.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),xe=new r.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),Le=new r.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),fe=new r.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),ge=new r.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),be=new r.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),me=new r.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),F=new r.PublicKey("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),q=new r.PublicKey("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),W=new r.PublicKey("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),le=new r.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),j=new r.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),_e=new r.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),z=new r.PublicKey("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),Te=new r.PublicKey("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),he=new r.PublicKey("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Q=new r.PublicKey("LanD8FpTBBvzZFXjTxsAoipkFsxPUCDB4qAqKxYDiNP"),J=new r.PublicKey("HYNHiyKJ3gGVFvyxJAurK7qr7P2o5J9THmvCGMdULtpW");var Me={SERUM_MARKET:r.PublicKey.default,OPENBOOK_MARKET:new r.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),UTIL1216:r.PublicKey.default,FarmV3:new r.PublicKey("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),FarmV5:new r.PublicKey("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),FarmV6:new r.PublicKey("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),AmmV4:new r.PublicKey("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),AmmStable:new r.PublicKey("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),CLMM:new r.PublicKey("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),CLMM_LOCK_PROGRAM_ID:new r.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),CLMM_LOCK_AUTH_ID:new r.PublicKey("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),Router:new r.PublicKey("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),CREATE_CPMM_POOL_PROGRAM:F,CREATE_CPMM_POOL_AUTH:q,CREATE_CPMM_POOL_FEE_ACC:W,FEE_DESTINATION_ID:new r.PublicKey("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR"),LOCK_CPMM_PROGRAM:j,LCOK_CPMM_AUTH:z,LAUNCHPAD_PROGRAM:Q,LAUNCHPAD_AUTH:J};var g={[f.toBase58()]:3},b={3:f};var U=require("@solana/web3.js"),x=N(require("bn.js"));var t=require("@solana/buffer-layout"),m=t.Layout,E=t.Structure;var p=t.blob;var l=class extends m{blob;signed;constructor(e,n,s){super(e,s),this.blob=p(e),this.signed=n}decode(e,n=0){let s=new x.default(this.blob.decode(e,n),10,"le");return this.signed?s.fromTwos(this.span*8).clone():s}encode(e,n,s=0){return typeof e=="number"&&(e=new x.default(e)),this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),n,s)}};function a(o){return new l(8,!1,o)}var _=class extends m{layout;decoder;encoder;constructor(e,n,s,u){super(e.span,u),this.layout=e,this.decoder=n,this.encoder=s}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,s){return this.layout.encode(this.encoder(e),n,s)}getSpan(e,n){return this.layout.getSpan(e,n)}};function i(o){return new _(p(32),e=>new U.PublicKey(e),e=>e.toBuffer(),o)}var T=class extends E{decode(e,n){return super.decode(e,n)}};function C(o,e,n){return new T(o,e,n)}var B=C([p(5),p(8),i("ownAddress"),a("vaultSignerNonce"),i("baseMint"),i("quoteMint"),i("baseVault"),a("baseDepositsTotal"),a("baseFeesAccrued"),i("quoteVault"),a("quoteDepositsTotal"),a("quoteFeesAccrued"),a("quoteDustThreshold"),i("requestQueue"),i("eventQueue"),i("bids"),i("asks"),a("baseLotSize"),a("quoteLotSize"),a("feeRateBps"),a("referrerRebatesAccrued"),p(7)]),h={3:B};var A=require("@solana/web3.js");var y=require("lodash");var M=class{logLevel;name;constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let n=e.map(s=>typeof s=="object"?JSON.stringify(s):s).join(", ");throw new Error(n)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},D={},Y={};function O(o){let e=(0,y.get)(D,o);if(!e){let n=(0,y.get)(Y,o);e=new M({name:o,logLevel:n}),(0,y.set)(D,o,e)}return e}var L=O("Serum"),w=class{static getProgramId(e){let n=b[e];return n||L.logWithError("invalid version","version",e),n}static getVersion(e){let n=e.toBase58(),s=g[n];return s||L.logWithError("invalid program id","programId",n),s}static getStateLayout(e){let n=h[e];return n||L.logWithError(!!n,"invalid version","version",e),n}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedAuthority({programId:e,marketId:n}){let s=[n.toBuffer()],u=0,S;for(;u<100;){try{let P=s.concat(Buffer.from([u]),Buffer.alloc(7));S=A.PublicKey.createProgramAddressSync(P,e)}catch(P){if(P instanceof TypeError)throw P;u++;continue}return{publicKey:S,nonce:u}}return L.logWithError("unable to find a viable program address nonce","params",{programId:e,marketId:n}),{publicKey:A.PublicKey.default,nonce:u}}};0&&(module.exports={MARKET_STATE_LAYOUT_V3,MARKET_VERSION_TO_STATE_LAYOUT,Market,SERUM_PROGRAMID_TO_VERSION,SERUM_VERSION_TO_PROGRAMID});
//# sourceMappingURL=index.js.map