import{PublicKey as t}from"@solana/web3.js";var j=new t("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),z=new t("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),Q=new t("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),J=new t("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Y=new t("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),X=new t("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),d=new t("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Z=new t("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),$=new t("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),ee=new t("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),te=new t("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),re=new t("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),ne=new t("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),oe=new t("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),se=new t("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),ue=new t("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),ae=new t("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),ie=new t("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),ce=new t("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),pe=new t("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),ye=new t("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Pe=new t("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),C=new t("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),B=new t("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),D=new t("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),de=new t("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),O=new t("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),xe=new t("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),V=new t("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),Le=new t("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),fe=new t("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),v=new t("LanD8FpTBBvzZFXjTxsAoipkFsxPUCDB4qAqKxYDiNP"),k=new t("HYNHiyKJ3gGVFvyxJAurK7qr7P2o5J9THmvCGMdULtpW");var ge={SERUM_MARKET:t.default,OPENBOOK_MARKET:new t("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),UTIL1216:t.default,FarmV3:new t("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),FarmV5:new t("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),FarmV6:new t("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),AmmV4:new t("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),AmmStable:new t("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),CLMM:new t("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),CLMM_LOCK_PROGRAM_ID:new t("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),CLMM_LOCK_AUTH_ID:new t("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),Router:new t("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),CREATE_CPMM_POOL_PROGRAM:C,CREATE_CPMM_POOL_AUTH:B,CREATE_CPMM_POOL_FEE_ACC:D,FEE_DESTINATION_ID:new t("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR"),LOCK_CPMM_PROGRAM:O,LCOK_CPMM_AUTH:V,LAUNCHPAD_PROGRAM:v,LAUNCHPAD_AUTH:k};var l={[d.toBase58()]:3},_={3:d};import{PublicKey as N}from"@solana/web3.js";import h,{isBN as ht}from"bn.js";import{bits as Te,BitStructure as he,blob as K,Blob as Me,cstr as Ae,f32 as we,f32be as Se,f64 as Re,f64be as Ee,greedy as Ue,Layout as G,ns64 as Ce,ns64be as Be,nu64 as De,nu64be as Oe,offset as Ve,s16 as ve,s16be as ke,s24 as Ke,s24be as Ge,s32 as Ie,s32be as Ne,s40 as He,s40be as Fe,s48 as qe,s48be as We,s8 as je,seq as ze,struct as Qe,Structure as I,u16 as Je,u16be as Ye,u24 as Xe,u24be as Ze,u32 as $e,u32be as et,u40 as tt,u40be as rt,u48 as nt,u48be as ot,u8 as st,UInt as ut,union as at,Union as it,unionLayoutDiscriminator as ct,utf8 as pt}from"@solana/buffer-layout";var x=G,T=I;var p=K;var L=class extends x{blob;signed;constructor(e,r,n){super(e,n),this.blob=p(e),this.signed=r}decode(e,r=0){let n=new h(this.blob.decode(e,r),10,"le");return this.signed?n.fromTwos(this.span*8).clone():n}encode(e,r,n=0){return typeof e=="number"&&(e=new h(e)),this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),r,n)}};function s(o){return new L(8,!1,o)}var f=class extends x{layout;decoder;encoder;constructor(e,r,n,c){super(e.span,c),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}};function u(o){return new f(p(32),e=>new N(e),e=>e.toBuffer(),o)}var g=class extends T{decode(e,r){return super.decode(e,r)}};function M(o,e,r){return new g(o,e,r)}var H=M([p(5),p(8),u("ownAddress"),s("vaultSignerNonce"),u("baseMint"),u("quoteMint"),u("baseVault"),s("baseDepositsTotal"),s("baseFeesAccrued"),u("quoteVault"),s("quoteDepositsTotal"),s("quoteFeesAccrued"),s("quoteDustThreshold"),u("requestQueue"),u("eventQueue"),u("bids"),u("asks"),s("baseLotSize"),s("quoteLotSize"),s("feeRateBps"),s("referrerRebatesAccrued"),p(7)]),A={3:H};import{PublicKey as E}from"@solana/web3.js";import{get as w,set as F}from"lodash";var b=class{logLevel;name;constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let r=e.map(n=>typeof n=="object"?JSON.stringify(n):n).join(", ");throw new Error(r)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},S={},q={};function R(o){let e=w(S,o);if(!e){let r=w(q,o);e=new b({name:o,logLevel:r}),F(S,o,e)}return e}var P=R("Serum"),U=class{static getProgramId(e){let r=_[e];return r||P.logWithError("invalid version","version",e),r}static getVersion(e){let r=e.toBase58(),n=l[r];return n||P.logWithError("invalid program id","programId",r),n}static getStateLayout(e){let r=A[e];return r||P.logWithError(!!r,"invalid version","version",e),r}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedAuthority({programId:e,marketId:r}){let n=[r.toBuffer()],c=0,m;for(;c<100;){try{let y=n.concat(Buffer.from([c]),Buffer.alloc(7));m=E.createProgramAddressSync(y,e)}catch(y){if(y instanceof TypeError)throw y;c++;continue}return{publicKey:m,nonce:c}}return P.logWithError("unable to find a viable program address nonce","params",{programId:e,marketId:r}),{publicKey:E.default,nonce:c}}};export{H as MARKET_STATE_LAYOUT_V3,A as MARKET_VERSION_TO_STATE_LAYOUT,U as Market,l as SERUM_PROGRAMID_TO_VERSION,_ as SERUM_VERSION_TO_PROGRAMID};
//# sourceMappingURL=index.mjs.map