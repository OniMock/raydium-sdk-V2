import{PublicKey as E}from"@solana/web3.js";import{get as l,set as C}from"lodash";var d=class{logLevel;name;constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let r=e.map(n=>typeof n=="object"?JSON.stringify(n):n).join(", ");throw new Error(r)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},_={},B={};function T(o){let e=l(_,o);if(!e){let r=l(B,o);e=new d({name:o,logLevel:r}),C(_,o,e)}return e}import{PublicKey as t}from"@solana/web3.js";var Q=new t("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),J=new t("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),Y=new t("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),X=new t("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Z=new t("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),$=new t("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),x=new t("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),ee=new t("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),te=new t("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),re=new t("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),ne=new t("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),oe=new t("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),se=new t("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),ue=new t("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),ae=new t("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),ie=new t("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),ce=new t("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),pe=new t("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),ye=new t("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Pe=new t("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),de=new t("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),xe=new t("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),D=new t("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),O=new t("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),V=new t("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),Le=new t("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),v=new t("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),fe=new t("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),k=new t("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),ge=new t("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),be=new t("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),K=new t("LanD8FpTBBvzZFXjTxsAoipkFsxPUCDB4qAqKxYDiNP"),G=new t("HYNHiyKJ3gGVFvyxJAurK7qr7P2o5J9THmvCGMdULtpW");var me={SERUM_MARKET:t.default,OPENBOOK_MARKET:new t("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),UTIL1216:t.default,FarmV3:new t("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),FarmV5:new t("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),FarmV6:new t("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),AmmV4:new t("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),AmmStable:new t("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),CLMM:new t("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),CLMM_LOCK_PROGRAM_ID:new t("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),CLMM_LOCK_AUTH_ID:new t("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),Router:new t("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),CREATE_CPMM_POOL_PROGRAM:D,CREATE_CPMM_POOL_AUTH:O,CREATE_CPMM_POOL_FEE_ACC:V,FEE_DESTINATION_ID:new t("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR"),LOCK_CPMM_PROGRAM:v,LCOK_CPMM_AUTH:k,LAUNCHPAD_PROGRAM:K,LAUNCHPAD_AUTH:G};var h={[x.toBase58()]:3},M={3:x};import{PublicKey as F}from"@solana/web3.js";import w,{isBN as At}from"bn.js";import{bits as Me,BitStructure as Ae,blob as I,Blob as we,cstr as Se,f32 as Re,f32be as Ee,f64 as Ue,f64be as Ce,greedy as Be,Layout as N,ns64 as De,ns64be as Oe,nu64 as Ve,nu64be as ve,offset as ke,s16 as Ke,s16be as Ge,s24 as Ie,s24be as Ne,s32 as He,s32be as Fe,s40 as qe,s40be as We,s48 as je,s48be as ze,s8 as Qe,seq as Je,struct as Ye,Structure as H,u16 as Xe,u16be as Ze,u24 as $e,u24be as et,u32 as tt,u32be as rt,u40 as nt,u40be as ot,u48 as st,u48be as ut,u8 as at,UInt as it,union as ct,Union as pt,unionLayoutDiscriminator as yt,utf8 as Pt}from"@solana/buffer-layout";var L=N,A=H;var i=I;var f=class extends L{blob;signed;constructor(e,r,n){super(e,n),this.blob=i(e),this.signed=r}decode(e,r=0){let n=new w(this.blob.decode(e,r),10,"le");return this.signed?n.fromTwos(this.span*8).clone():n}encode(e,r,n=0){return typeof e=="number"&&(e=new w(e)),this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),r,n)}};function s(o){return new f(8,!1,o)}var g=class extends L{layout;decoder;encoder;constructor(e,r,n,a){super(e.span,a),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}};function u(o){return new g(i(32),e=>new F(e),e=>e.toBuffer(),o)}var b=class extends A{decode(e,r){return super.decode(e,r)}};function S(o,e,r){return new b(o,e,r)}var q=S([i(5),i(8),u("ownAddress"),s("vaultSignerNonce"),u("baseMint"),u("quoteMint"),u("baseVault"),s("baseDepositsTotal"),s("baseFeesAccrued"),u("quoteVault"),s("quoteDepositsTotal"),s("quoteFeesAccrued"),s("quoteDustThreshold"),u("requestQueue"),u("eventQueue"),u("bids"),u("asks"),s("baseLotSize"),s("quoteLotSize"),s("feeRateBps"),s("referrerRebatesAccrued"),i(7)]),R={3:q};var P=T("Serum"),U=class{static getProgramId(e){let r=M[e];return r||P.logWithError("invalid version","version",e),r}static getVersion(e){let r=e.toBase58(),n=h[r];return n||P.logWithError("invalid program id","programId",r),n}static getStateLayout(e){let r=R[e];return r||P.logWithError(!!r,"invalid version","version",e),r}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedAuthority({programId:e,marketId:r}){let n=[r.toBuffer()],a=0,m;for(;a<100;){try{let y=n.concat(Buffer.from([a]),Buffer.alloc(7));m=E.createProgramAddressSync(y,e)}catch(y){if(y instanceof TypeError)throw y;a++;continue}return{publicKey:m,nonce:a}}return P.logWithError("unable to find a viable program address nonce","params",{programId:e,marketId:r}),{publicKey:E.default,nonce:a}}};export{U as Market};
//# sourceMappingURL=serum.mjs.map